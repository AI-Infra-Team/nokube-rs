cluster_name: home-cluster

# 分布式任务管理配置
task_spec:
  # 任务管理器版本
  version: "1.0"
  
  # 监控配置
  monitoring:
    grafana:
      port: 3000
      admin_user: admin
      admin_password: admin
    greptimedb:
      port: 4000
      mysql_user: root
      mysql_password: ""
    enabled: true

# 节点列表
nodes:
  - ssh_url: "10.126.126.234:2222"
    name: "pinghu-container"  # 实际系统看到的节点名
    role: "head"
    workspace: "/opt/devcon/pa/nokube-workspace"  # 工作空间根路径，所有资源文件将存储在此路径下
    storage:
      type: "local"
      path: "/data/ray/head"  # 相对于 workspace 的路径，实际路径: /opt/devcon/pa/nokube-workspace/data/ray/head
    users:
      - userid: "pa"
        password: "74123"
    proxy:
      http_proxy: "http://10.126.126.233:7890"
      https_proxy: "http://10.126.126.233:7890"
      no_proxy: "localhost,127.0.0.1,10.0.0.0/8,192.168.0.0/16"
    # APT 源配置（示例：Ubuntu 22.04 jammy 的阿里云镜像）
    apt_sources:
      sources_list: |
        deb http://mirrors.aliyun.com/ubuntu/ jammy main restricted universe multiverse
        deb http://mirrors.aliyun.com/ubuntu/ jammy-updates main restricted universe multiverse
        deb http://mirrors.aliyun.com/ubuntu/ jammy-backports main restricted universe multiverse
        deb http://mirrors.aliyun.com/ubuntu/ jammy-security main restricted universe multiverse
        deb-src http://mirrors.aliyun.com/ubuntu/ jammy main restricted universe multiverse
        deb-src http://mirrors.aliyun.com/ubuntu/ jammy-updates main restricted universe multiverse
        deb-src http://mirrors.aliyun.com/ubuntu/ jammy-backports main restricted universe multiverse
        deb-src http://mirrors.aliyun.com/ubuntu/ jammy-security main restricted universe multiverse

  # - ssh_url: "10.0.0.2:22"
  #   name: "worker-node-1"   # 实际系统看到的节点名
  #   role: "worker"
  #   workspace: "/opt/nokube"  # 工作空间根路径
  #   storage:
  #     type: "local"
  #     path: "/data/ray/worker-1"  # 相对于 workspace 的路径
  #   users:
  #     - userid: "your-username"
  #       password: "your-password"
  #   proxy:
  #     http_proxy: "http://proxy.example.com:8080"
  #     https_proxy: "http://proxy.example.com:8080"
  #     no_proxy: "localhost,127.0.0.1,10.0.0.0/8,192.168.0.0/16"

# NoKube 特定配置
nokube_config:
  # 日志配置
  log_level: "INFO"
  # 监控指标收集间隔(秒)
  metrics_interval: 30
  # 配置轮询间隔(秒)
  config_poll_interval: 10
