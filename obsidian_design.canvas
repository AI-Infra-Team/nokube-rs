{
	"nodes":[
		{"id":"2646f8feb06d5f3b","type":"group","x":-160,"y":360,"width":5840,"height":5880,"label":"é›†ç¾¤ä¾§"},
		{"id":"0520f5a5ed0e5699","type":"group","x":5760,"y":1680,"width":4900,"height":4480,"label":"ç›‘æ§é¢æ¿"},
		{"id":"7c01f0b4dd6ebad7","type":"group","x":2590,"y":390,"width":3050,"height":5770,"label":"general"},
		{"id":"30cdd7fa9b891781","type":"group","x":-140,"y":390,"width":2700,"height":5050,"label":"service agent"},
		{"id":"8c4790e1a4bce75f","type":"group","x":-80,"y":1660,"width":2600,"height":3610,"label":"k8s"},
		{"id":"e758f2cb9e2eb39b","type":"group","x":-28,"y":1720,"width":2495,"height":2968,"label":"k8s actor"},
		{"id":"38790d011e928eb9","type":"group","x":2660,"y":4480,"width":2820,"height":1580,"label":"exporter"},
		{"id":"1992741a2aa2fe3b","type":"group","x":-80,"y":-650,"width":2809,"height":910,"label":"æ§åˆ¶ä¾§"},
		{"id":"73ab2ea86cf166dd","type":"group","x":7900,"y":4000,"width":950,"height":1670,"label":"æŒ‡æ ‡é›†åˆ"},
		{"id":"28016ccabe95653d","type":"group","x":3880,"y":4520,"width":1520,"height":940,"label":"log"},
		{"id":"1c575d5d7c0f1487","type":"group","x":9048,"y":3240,"width":1025,"height":1380,"label":"Actor Dashboard Panels"},
		{"id":"029a051cde4f5915","type":"group","x":-1280,"y":260,"width":820,"height":1630,"label":"é›†ç¾¤é™æ€é…ç½®+é›†ç¾¤actoråŠ¨æ€é…ç½®"},
		{"id":"1ef7b6b5a7e6c3c9","type":"group","x":8980,"y":4760,"width":1160,"height":1060,"label":"Cluster Dashboard Panels"},
		{"id":"fb1e32101b879bee","type":"group","x":6880,"y":3680,"width":800,"height":1030,"label":"dashboardé…ç½®å˜é‡"},
		{"id":"689775cc9b14b219","type":"group","x":1880,"y":-597,"width":780,"height":805,"label":"k8såŸç”Ÿå‘½ä»¤"},
		{"id":"9cf48181aa1561ab","type":"group","x":500,"y":-565,"width":880,"height":402,"label":"new-or-update"},
		{"id":"b1d202983b97c1eb","type":"group","x":660,"y":-960,"width":700,"height":280,"label":"ç¤ºä¾‹"},
		{"id":"logcollector-kubecontroller-link","type":"text","text":"## LogCollector â†” KubeController ååŒ\n\n- è®¢é˜…æ–¹å¼ï¼šé€šè¿‡ `register_container_listener` æŒ‚åˆ°ç»Ÿä¸€å®¹å™¨äº‹ä»¶æ€»çº¿\n- äº‹ä»¶å¤„ç†ï¼š\n  - create â†’ ä¸‹å‘ `FollowContainer`ï¼Œå¹¶è¡¥ä¸Šå†å²æ—¥å¿—å›æº¯\n  - stop â†’ ä¸‹å‘ `StopContainer`ï¼Œå¹¶è§¦å‘ flush\n- æ³¨å†Œæµç¨‹ï¼šæ¡æ‰‹åç«‹å³éå†ç°æœ‰å®¹å™¨ï¼ˆé˜²æ­¢å¯åŠ¨ç¼ºå£ï¼‰","x":4520,"y":3805,"width":820,"height":615},
		{"id":"807d8c1bd92464b0","type":"text","text":"## ğŸ“ OTLP æ—¥å¿—æ”¶é›† (å®ç°åŒæ­¥)\n\n**Endpoint (çº¦å®š):**\n- OTLP Logs: `http://{head}:{port}/v1/otlp/v1/logsï¼ˆport æ¥è‡ª ClusterConfig.monitoring.greptimedb.portï¼‰`\n\n**Headers:**\n- `X-Greptime-DB-Name=public`\n- `X-Greptime-Log-Table-Name=opentelemetry_logs`\n- `X-Greptime-Log-Extract-Keys=cluster_name,node_name,source,source_id,container,pod,root_actor,container_path`\n\n**Collector è¡Œä¸º:**\n- æ— å¤±è´¥é‡è¯•ï¼Œå¤±è´¥ä»… error log\n- å¤–å±‚è¶…æ—¶ä¿æŠ¤ï¼ˆå›ºå®š 5sï¼‰ï¼›å†…éƒ¨ `force_flush()` æ”¾å…¥ `spawn_blocking`\n- actor æ—¥å¿—è®¾ç½® `scope_name=container_path` (cluster/root_actor/pod/container)ï¼›å…¶ä»–æ¥æºä½¿ç”¨ `nokube-rs`\n\n**Greptime è¡¨:**\n- è¡¨: `opentelemetry_logs`\n- åˆ—: timestamp, severity_text, body, scope_name, log_attributes(JSON) ç­‰\n\n**Grafana æ—¥å¿—é¢æ¿:**\n- æ•°æ®æº: MySQL (greptimemysql)\n- å˜é‡: `fullpath`ï¼ˆæ¥è‡ª `scope_name`ï¼Œå…¼å®¹ legacy `container_path`ï¼‰\n- SQL ä½¿ç”¨ `COALESCE(${fullpath:sqlstring}, ${container_path:sqlstring})` å¯é€‰ç­›é€‰\n- æ—¥å¿—ä¸€è¡Œå±•ç¤ºï¼ˆéšè— Labels/Detailsï¼‰\n\n**Actor é¢æ¿è”åŠ¨:**\n- Containers è¡¨çš„ Container åˆ—è·³è½¬åˆ°æ—¥å¿—é¢æ¿ï¼Œé“¾æ¥æºå¸¦ `var-fullpath=<full-path>`ï¼ˆåŒæ—¶ä¿ç•™ legacy `var-container_path`ï¼‰","x":3900,"y":4540,"width":700,"height":900},
		{"id":"log-collector-overview","type":"text","text":"## LogCollector æ¶æ„\n\nä½ç½®\n- æ¨¡å—: `src/agent/general/log_collector.rs`ï¼Œç”± ServiceModeAgent åˆå§‹åŒ–ã€‚\n\nèŒè´£\n- é€šè¿‡ `docker logs -f` è·Ÿéš `nokube-grafana`ã€`nokube-greptimedb` ä¸å…¨éƒ¨ `nokube-pod-*` å®¹å™¨è¾“å‡º\n- å¯¹ actor å®¹å™¨æ¨å¯¼ `cluster/root_actor/pod/container`ï¼Œå†™å…¥ `container_path` ä¸ OTLP scope_name\n- ç»´æŠ¤ mpsc å‘½ä»¤é€šé“ï¼Œæ ¹æ® Follow/Stop æŒ‡ä»¤å¢åˆ å®¹å™¨è·Ÿéšä»»åŠ¡\n- ä»¥ 5s å‘¨æœŸæ‰¹é‡æ¨é€ OTLP Logs è‡³ GreptimeDB HTTPï¼Œæ”¯æŒ Basic Auth\n\nåä½œè¯´æ˜\n- ä¸ KubeController çš„åä½œè¯¦è§ â€œLogCollector â†” KubeController ååŒâ€ã€‚\n\næ—¥å¿—æ‹‰å–ç­–ç•¥\n- ä½¿ç”¨ `docker logs -f --tail 10`ï¼Œé¦–æ¬¡ä»…å›æ”¾è¿‘ 10 æ¡ï¼Œåç»­æŒç»­ followï¼Œç¡®ä¿å¢é‡æ¶ˆè´¹ã€‚\n- å­è¿›ç¨‹é€€å‡ºåæ¯éš” 5s é‡è¿ï¼Œå®¹å™¨é‡å¯ä¹Ÿèƒ½ç»§ç»­è¡”æ¥ï¼Œé¿å…é‡å¤ã€‚\n- stdout/stderr åˆ†æµé€è¡Œå†™å…¥ï¼Œæ— æœ¬åœ°è½ç›˜ï¼Œç›´æ¥å‘é€åˆ° OTLPã€‚\n- å†…éƒ¨å°è£…åœ¨ `tokio::spawn` çš„æ— é™å¾ªç¯ä¸­ï¼Œ`docker logs -f` ç»“æŸå `wait` + 5s é€€é¿å†é‡å¯å­è¿›ç¨‹ï¼Œç¡®ä¿æŒç»­ followã€‚","x":4660,"y":4540,"width":720,"height":800},
		{"id":"actor-comm","type":"text","text":"## ServiceAgent é—´é€šä¿¡\n\n### é¦–é€‰: etcd ä½œä¸ºæ§åˆ¶é¢æ€»çº¿\n- äº‹ä»¶/ä¿¡å·/å¿ƒè·³å‡èµ° etcd å‰ç¼€ `/nokube/{cluster}/actors/**`\n- ä¼˜ç‚¹: å»ä¸­å¿ƒã€å¹‚ç­‰ã€å¤©ç„¶å¤šèŠ‚ç‚¹\n\n### ä¸€è‡´æ€§çº¦æŸ\n- æ‰€æœ‰æ“ä½œéœ€å¹‚ç­‰ï¼Œå¹¶é€šè¿‡ etcd å¯é‡è¯•","x":4920,"y":2480,"width":560,"height":520},
		{"id":"dashboard-logs","type":"text","text":"## Dashboard: Logs (MySQL)\n\nå˜é‡\n- container_path: SELECT DISTINCT scope_name AS text FROM opentelemetry_logs WHERE scope_name <> '' ORDER BY text\n\né¢æ¿å¸ƒå±€\n- Log Messages (Latest):\n\t```\n\tSELECT timestamp AS time, body AS message, severity_text AS level  FROM opentelemetry_logs  WHERE $__timeFilter(timestamp) AND (${container_path:sqlstring} = '' OR scope_name = ${container_path:sqlstring})  ORDER BY timestamp DESC LIMIT 1000\n\t```\n- Log error & warning\n- Log Level Distribution: æŒ‰ severity_text è®¡æ•° (åŒæ ·ä½¿ç”¨ container_path å¯é€‰ç­›é€‰) | Logs per Minute: $__timeGroup(timestamp,'1m') + å¯é€‰ container_path ç­›é€‰\n\nè¯´æ˜\n- æ•°æ®æº: `greptimemysql` (Greptime MySQL)\n- æ—¥å¿—é¢æ¿å•è¡Œå±•ç¤ºï¼šéšè—æ ‡ç­¾ã€ç¦ç”¨æŠ˜å \n- ä½¿ç”¨ scope_name ä¿å­˜å®¹å™¨ Full Path (cluster/root_actor/pod/container)ï¼Œç”¨äºç²¾ç¡®ç­›é€‰","x":5810,"y":2425,"width":731,"height":575},
		{"id":"block-exporter-vs-kube","type":"text","text":"## Exporter â‡† KubeController\n- **è´£ä»»è¾¹ç•Œ**ï¼šKubeController è¯»å†™ etcdã€ç”Ÿæˆå®¹å™¨(`nokube-pod-*`)ï¼Œé€šè¿‡ `DockerRunner` æ§åˆ¶ç”Ÿå‘½å‘¨æœŸï¼›Exporter åªè¯» Docker è¿è¡Œæ—¶å’Œç³»ç»Ÿ /procï¼Œå‘ GreptimeDB æ¨é€èŠ‚ç‚¹+å®¹å™¨æŒ‡æ ‡ã€‚\n- **äº‹ä»¶ç›‘å¬**ï¼šExporter é€šè¿‡ `register_container_listener` è®¢é˜…ç»Ÿä¸€å®¹å™¨äº‹ä»¶æ€»çº¿ï¼ˆcreate/stopï¼‰ï¼Œæ³¨å†Œåç«‹å³æ‰§è¡Œä¸€æ¬¡å…¨é›†æŠ“å–ï¼Œé¿å…å¯åŠ¨çª—å£é—æ¼ã€‚\n- **æ•°æ®æµ**ï¼šetcd ä¸­çš„ actor é…ç½® â†’ KubeController æ‹‰èµ·/å›æ”¶å®¹å™¨ï¼ˆå¹¿æ’­äº‹ä»¶ï¼‰â†’ Exporter æ¥æ”¶äº‹ä»¶å¹¶æ ¡å‡†é‡‡é›† â†’ GreptimeDB/Grafana å±•ç¤ºã€‚\n- **é€€å‡ºè”åŠ¨**ï¼šä¸€æ—¦æ”¶åˆ° stop äº‹ä»¶æˆ–è½®è¯¢ç¡®è®¤å®¹å™¨ä¸å†å­˜åœ¨ï¼ŒExporter ä¼šå†™å‡ºä¸€æ¬¡ `nokube_actor_status{actor_level=\"pod\"}=-1`ï¼ˆCPU/å†…å­˜ç½®é›¶ï¼‰å¹¶ä» tracker ç§»é™¤è¯¥å®¹å™¨ï¼ŒGrafana ä¾é  `status > 0` è¿‡æ»¤å³å¯åœ¨å½“å‰é‡‡æ ·å‘¨æœŸå†…ä¸‹æ¶è¯¥å®¹å™¨ã€‚","x":3020,"y":4000,"width":900,"height":380},
		{"id":"exporter-config-task","type":"text","text":"## Exporter é…ç½®è½®è¯¢ [ç‹¬ç«‹task]\nå½’å±: Exporter\nè§¦å‘: tokio::spawn (start_config_polling)\nå‘¨æœŸ: `config_poll_interval` ç§’ (é»˜è®¤ 10s)\nèŒè´£: è¯»å– `/cluster/{name}` ä¸ ClusterConfig, åˆ·æ–° current_config\nå…³é”®ä»£ç : src/agent/general/exporter.rs::start_config_polling","x":3270,"y":4585,"width":560,"height":320},
		{"id":"exporter-metrics-task","type":"text","text":"## Exporter æŒ‡æ ‡é‡‡é›† [ç‹¬ç«‹task]\nå½’å±: Exporter\nè§¦å‘: tokio::spawn (start_metrics_collection)\nå‘¨æœŸ: `metrics_interval` ç§’ (é»˜è®¤ 30s)\nèŒè´£: èšåˆç³»ç»Ÿ/å®¹å™¨æŒ‡æ ‡å¹¶æ¨é€è‡³ GreptimeDB Influx API\nå…³é”®ä»£ç : src/agent/general/exporter.rs::start_metrics_collection","x":3270,"y":4925,"width":560,"height":320},
        {"id":"dashboard-actor","type":"text","text":"## Dashboard: Actor\n\nç”¨é€”\n- è¿è¡Œå½’å±è§†è§’ï¼šæŒ‰ root_actor åˆ†ç»„æŸ¥çœ‹ pod/container æ˜ç»†ä¸æ—¶åº\n- åŒæ—¶åŒ…å« Actor æ¦‚è§ˆï¼ˆåˆå¹¶åŸ Service è§†å›¾ï¼‰\n\nå˜é‡\n- cluster: `label_values(nokube_container_cpu_cores, cluster_name)`\n- root_actor: `query_result(last_over_time(nokube_actor_status{cluster_name=~\"$cluster\", actor_level=\"root\", canonical=\"1\"}[30s]) > 0)`ï¼ˆRoot actor å¿ƒè·³ï¼›ä»…ä¿ç•™è¿‘ 30s å­˜æ´»çš„ root_actorï¼‰\n- container: `query_result(last_over_time(nokube_actor_status{cluster_name=~\"$cluster\", actor_level=\"pod\", root_actor=~\"$root_actor\", canonical=\"1\"}[30s]) > 0)`ï¼ˆPod/å®¹å™¨æ‰€å± actor å¿ƒè·³ï¼›ä¸ root_actor åŒæ­¥çª—å£ï¼‰\n- node: `query_result(last_over_time(nokube_actor_status{cluster_name=~\"$cluster\", actor_level=\"pod\", root_actor=~\"$root_actor\", container=~\"$container\", canonical=\"1\"}[30s]) > 0)`ï¼ˆèŠ‚ç‚¹ç­›é€‰ï¼Œå— root_actor/container çº¦æŸï¼‰\n- cpu_axis_max, mem_axis_max: è‡ªåŠ¨æ¢æµ‹ä¸Šé™\n\néšè—è¿‡æ»¤å˜é‡ï¼ˆconstant, hiddenï¼Œä»…ç”¨äºæŸ¥è¯¢å¤ç”¨ï¼‰\n- cluster_filter = `${cluster:regex}`\n- root_actor_filter = `${root_actor:regex}`\n- container_filter = `${container:regex}`\n- node_filter = `${node:regex}`\n\né¢æ¿å¸ƒå±€\n- å…¨å±€æ€»è§ˆï¼ˆåˆå¹¶è‡ª Serviceï¼‰ï¼š\n  - Actors Overview (Namespace/Actor/Name/Status/Parent)\n  - Podâ€“DaemonSet Relationship (status 1/0, stepped)\n  - Container CPU/Memory (%) (stacked)\n  - Service Events Timeline (increase(...[5m]))\n- Root Actors (stat)\n- Container Count ($cluster) (stat)\n- æŒ‰ $root_actor é‡å¤åˆ†ç»„: \n  - Pods of $root_actor (è¡¨: node/pod)\n  - Containers of $root_actor (è¡¨: node/pod/container)\n  - Container CPU (cores) [$root_actor] (timeseries)\n  - Container Memory (bytes) [$root_actor] (timeseries)\n\nè¯´æ˜\n- æŸ¥è¯¢ç»Ÿä¸€ä½¿ç”¨éšè— filter å˜é‡ï¼Œé¿å…é‡å¤ç¼–å†™è®¡ç®—é€»è¾‘ï¼ˆç”¨æˆ·å¯è§å˜é‡ä»…è´Ÿè´£å€™é€‰/é€‰æ‹©ï¼‰ã€‚\n- æ•°æ®æº: `GreptimeDB`\n- åˆ·æ–°: 15sï¼›é‡‡æ ·æ­¥é•¿: 15s\n- Exporter ä¸ºæ‰€æœ‰ actor å±‚çº§ï¼ˆroot/namespace/pod/controllerï¼‰å‘¨æœŸæ€§å†™å…¥ `nokube_actor_status=1`ï¼Œstop/lifecycle äº‹ä»¶å†™å…¥ -1ï¼›Grafana ä¾é  30s çª—å£è¿‡æ»¤å¯è¯†åˆ«æ˜¯å¦ alive\n- å®¹å™¨ç­›é€‰ç»Ÿä¸€ä¾èµ– actor å¿ƒè·³ï¼špod actor ä¸‹çš„å®¹å™¨è‹¥ 30s å†…æ— å¿ƒè·³ä¼šè‡ªåŠ¨ä»æ¨¡æ¿å˜é‡ä¸é¢æ¿ä¸­éšè—\n- ä»…åŸºäºçœŸå®å®¹å™¨ï¼ˆå·²å»é™¤æ¼”ç¤ºæ•°æ®ï¼‰ï¼›æ— æ–°æ•°æ®çš„å®¹å™¨ä¸å±•ç¤º\n- å®šä¹‰æ¥æº: `src/agent/general/grafana_manager.rs: import_actor_dashboard()`","x":6598,"y":2240,"width":622,"height":1220},
		{"id":"exporter-containers","type":"text","text":"## Exporter: å®¹å™¨æŒ‡æ ‡\n\nç›®æ ‡å®¹å™¨\n- åç§°ä»¥ `nokube-pod-` å¼€å¤´ï¼ˆ`docker ps --format {{.Names}}` è¿‡æ»¤ï¼‰\n- ä»…æ¥æºäºçœŸå®å®¹å™¨ï¼ˆdocker ps + docker statsï¼‰ï¼Œä¸ç”Ÿæˆæ¼”ç¤º/æ¨¡æ‹Ÿæ•°æ®\n\né‡‡é›†\n- `docker ps --format \"{{.Names}}\\t{{.Status}}\"` è·å–å®¹å™¨å/çŠ¶æ€\n- `docker stats --no-stream --format \"{{.CPUPerc}}\\t{{.MemUsage}}\\t{{.MemPerc}}\"` è·å– CPU ä¸å†…å­˜\n\nå¿ƒè·³ä¸ Freshness\n- å¿ƒè·³: æ¯ 15s æ¨é€ä¸€æ¬¡\n- Freshness: é¢æ¿ç”¨ `count_over_time(metric[30s]) > 0` è¿‡æ»¤ï¼Œä»…å±•ç¤ºè¿‘ 30s æ´»è·ƒå®¹å™¨\n\næŒ‡æ ‡åä¸åˆ«å\n- `nokube_container_cpu_usage` â†’ åˆ«å `nokube_container_cpu`ï¼ˆé¢æ¿ç»Ÿä¸€ä½¿ç”¨ï¼‰\n- `nokube_container_mem_bytes`, `nokube_container_mem_percent`\n- ActoræŒ‡æ ‡: `nokube_actor_info`, `nokube_actor_pod_status`, `nokube_actor_status`\n\næ ‡ç­¾\n- åŸºæœ¬: `cluster_name`, `node`, `instance`, `container`, `container_name`\n- Pod/Actor å½’å±: `pod`, `pod_name`, `parent_deployment`/`parent_daemonset`, `root_actor`\n- ç»Ÿä¸€è·¯å¾„: `container_path=cluster/root_actor/pod/container`ï¼ˆä¸æ—¥å¿— `scope_name` å¯¹é½ï¼‰\n- å½’ä¸€åŒ–: ç”±å®¹å™¨åæ¨æ–­ coreï¼Œ`upper_actor = <core>-<cluster>`\n","x":3650,"y":5525,"width":820,"height":500},
		{"id":"exporter-system","type":"text","text":"## Exporter: ç³»ç»ŸæŒ‡æ ‡\n\né‡‡é›†\n- CPU ä½¿ç”¨ç‡: `/proc/stat`\n- CPU é€»è¾‘æ ¸: `/proc/cpuinfo`ï¼ˆæˆ– `/sys/devices/system/cpu/present` å…œåº•ï¼‰\n- å†…å­˜å ç”¨: `/proc/meminfo` (MemTotal/MemAvailable)\n- ç½‘ç»œæµé‡: `/proc/net/dev`ï¼ˆæ±‡æ€»é `lo` æ¥å£ï¼‰\n\næŒ‡æ ‡å\n- `nokube_cpu_usage`, `nokube_cpu_cores`\n- `nokube_memory_usage`, `nokube_memory_used_bytes`, `nokube_memory_total_bytes`\n- `nokube_network_rx_bytes`, `nokube_network_tx_bytes`\n\nå‘¨æœŸ/æ–°é²œåº¦\n- Agent å†…ç½® MetricsCollector: æ¨é€é—´éš” 15sï¼ˆå®¹å™¨/ActoræŒ‡æ ‡å¿ƒè·³ï¼‰\n- Rust Exporterï¼ˆexporter.rsï¼‰é»˜è®¤ 30sï¼ˆç³»ç»Ÿä¸å®¹å™¨èšåˆæŒ‡æ ‡ï¼‰ï¼›é¢æ¿ç»Ÿä¸€ä»¥ 30s Freshness è¿‡æ»¤\n\næ ‡ç­¾\n- `cluster_name`, `node`, `instance`ï¼ˆä¸‰è€…å–è‡ªèŠ‚ç‚¹/é›†ç¾¤ä¸Šä¸‹æ–‡ï¼‰","x":2780,"y":5325,"width":820,"height":560},
		{"id":"var-root-actor","type":"text","text":"## Variable: $root_actor\n- Query: query_result(last_over_time(nokube_actor_status{cluster_name=~\"$cluster\", actor_level=\"root\", canonical=\"1\"}[30s]) > 0)\n- çª—å£: 30s actor å¿ƒè·³\n- æ•°æ®ä¾èµ–: nokube_actor_status (root)","x":6900,"y":3760,"width":700,"height":200},
		{"id":"var-container","type":"text","text":"## Variable: $container\n- Query: query_result(last_over_time(nokube_actor_status{cluster_name=~\"$cluster\", actor_level=\"pod\", root_actor=~\"$root_actor\", canonical=\"1\"}[30s]) > 0)\n- çª—å£: 30s actor å¿ƒè·³\n- æ•°æ®ä¾èµ–: nokube_actor_status (pod)","x":6900,"y":3990,"width":720,"height":210},
		{"id":"var-node","type":"text","text":"## Variable: $node\n- Query: query_result(last_over_time(nokube_actor_status{cluster_name=~\"$cluster\", actor_level=\"pod\", root_actor=~\"$root_actor\", container=~\"$container\", canonical=\"1\"}[30s]) > 0)\n- çª—å£: 30s actor å¿ƒè·³\n- æ•°æ®ä¾èµ–: nokube_actor_status (pod)","x":6900,"y":4220,"width":720,"height":210},
		{"id":"var-cluster","type":"text","text":"## Variable: $cluster\n- Query: label_values(nokube_container_cpu_cores, cluster_name)\n- ä½œç”¨: é€‰æ‹©ç›®æ ‡é›†ç¾¤\n- æ•°æ®ä¾èµ–: nokube_container_cpu_cores","x":6960,"y":4455,"width":640,"height":160},
		{"id":"grafana-shared-module","type":"text","text":"## Grafana Dashboard Shared Module\n- ä½ç½®: `src/agent/general/grafana_dashboards.rs`\n- æš´éœ² `actor_dashboard()` / `cluster_dashboard()`\n- MasterAgent ä¸ CommandModeAgent å…±ç”¨\n- PromQL ç»Ÿä¸€ç»´æŠ¤ (regex å˜é‡ + `> bool 0` è¿‡æ»¤)\n- æ–°é¢æ¿ä»æ­¤æ‰©å±•ï¼Œä¿æŒå¯¼å…¥æµç¨‹ä¸€è‡´","x":5000,"y":1970,"width":540,"height":400},
		{"id":"dash-links-panel","type":"text","text":"### å…³é”®é“¾æ¥é¢æ¿ï¼ˆCluster ä»ªè¡¨ç›˜å†…ï¼‰\nä½¿ç”¨ Text é¢æ¿ (markdown) å®ç°ï¼š\n- [Actor Dashboard](/d/nokube-actor-dashboard)\n- [Logs (MySQL)](/d/nokube-logs-mysql)\n- [HTTP æ–‡ä»¶æœåŠ¡å™¨](http://<head>:<http_port>)\n- [Greptime Metrics](http://<head>:<greptime_port>/v1/prometheus)","x":5810,"y":2085,"width":580,"height":280},
		{"id":"63020bf5856229b9","type":"text","text":"## Exporter æ€»è§ˆ\n\nè·¯å¾„\n- `src/agent/general/exporter.rs`\n\nèŒè´£\n- é‡‡é›†ç³»ç»Ÿä¸å®¹å™¨æŒ‡æ ‡ï¼Œæ¨é€åˆ° GreptimeDB (Influx è¡Œåè®®)\n- æŒ‰é…ç½®è½®è¯¢ etcd è·å– `ClusterConfig`\n- ä»…åŸºäºçœŸå®å®¹å™¨ï¼ˆdocker ps + docker statsï¼‰ï¼Œä¸ç”Ÿæˆæ¼”ç¤º/æ¨¡æ‹Ÿæ•°æ®\n\næ¨é€ç›®æ ‡\n- `{greptime}/v1/influxdb/write`ï¼ˆç”± head èŠ‚ç‚¹ IP + `monitoring.greptimedb.port` ç»„è£…ï¼‰\n\nå‘¨æœŸ\n- metrics_interval é»˜è®¤ 30s\n- config_poll_interval é»˜è®¤ 10s\n- Agent MetricsCollector(å®¹å™¨/Actor) å¿ƒè·³ 15sï¼›é¢æ¿ç»Ÿä¸€ 30s Freshness è¿‡æ»¤ï¼ˆ`count_over_time(metric[30s]) > 0`ï¼‰\n\næŒ‡æ ‡ä¸åˆ«å\n- CPU: `nokube_container_cpu_usage` â†’ åˆ«å `nokube_container_cpu`ï¼ˆé¢æ¿ç»Ÿä¸€ä½¿ç”¨ï¼‰\n- å†…å­˜: `nokube_container_mem_bytes`, `nokube_container_mem_percent`\n- ActoræŒ‡æ ‡: `nokube_actor_info`, `nokube_actor_pod_status`, `nokube_actor_status`\n\næ ‡ç­¾å¢å¼º\n- å®¹å™¨æŒ‡æ ‡è¿½åŠ  `container_path=cluster/root_actor/pod/container`ï¼Œä¸æ—¥å¿— `scope_name` å¯¹é½ï¼Œä¾¿äºä»ªè¡¨ç›˜è”åŠ¨\n\næ”¯æŒ\n- Cluster / Actor ä»ªè¡¨ç›˜\n","x":2700,"y":4585,"width":530,"height":680},
		{"id":"dashboard-cluster","type":"text","text":"## Dashboard: Cluster\n\né¢æ¿å¸ƒå±€\n- å…³é”®é“¾æ¥ | cluster container mem | cluster cpu \n- cluser net rx                    |               cluster net tx \n- each node\n\t- node cpu                 |                   node mem  (both with detail node container usage)\n\nè¯´æ˜\n- æ•°æ®æº: `GreptimeDB`\n- æ—¶é—´èŒƒå›´: now-1hï¼›åˆ·æ–°: 15sï¼›é‡‡æ ·æ­¥é•¿: 15s\n- å¿ƒè·³: exporter æ¯ 15s ä¸ŠæŠ¥ä¸€æ¬¡å®¹å™¨æŒ‡æ ‡\n- Freshness åˆ¤å®š: è¿‘ 30s å†…æœªæ”¶åˆ°æ–°æ•°æ®åˆ™è§†ä¸ºä¸‹çº¿ï¼›ç”¨ `count_over_time(metric[30s]) > 0` è¿‡æ»¤æ´»è·ƒå®¹å™¨\n- ä¸»è¦ç»´åº¦: instance/node, container\n- å®šä¹‰æ¥æº: `general::grafana_dashboards::cluster_dashboard()`","x":6461,"y":1720,"width":759,"height":460},
		{"id":"docker-ops-module","type":"text","text":"## ğŸ³ Docker æ“ä½œæ¨¡å—\nå…¥å£: `src/agent/general/docker_runner.rs`\n\n**å‘½åé“¾æ¡**\n- `root_actor` (Actor name): etcd `/nokube/{cluster}/deployments|daemonsets/<actor>` æœ«æ®µï¼Œä¸²è”å®¹å™¨ã€æŒ‡æ ‡ã€æ—¥å¿—\n- `pod`: Deployment â†’ `<actor>`ï¼›DaemonSet â†’ `<actor>-<node>`ï¼ˆèŠ‚ç‚¹ç»´åº¦ï¼‰\n- `container`: Docker åç§° = `nokube-pod-<pod>`ï¼›`container_path = {cluster}/{root_actor}/{pod}/{container}`ï¼ˆæ—¥å¿— scope_name ä¸æŒ‡æ ‡æ ‡ç­¾ï¼‰\n- Workspace: `<workspace>/{configmaps|secrets}/<actor or resource>`\n\n**å½“å‰èƒ½åŠ›**\n- å•å®¹å™¨ workloadï¼šruntime å– YAML `containers[0]` æ„é€  `DockerRunConfig`\n- ä½¿ç”¨ `DockerRunner::{create,start,stop,remove_container}` ç®¡ç†å®¹å™¨ç”Ÿå‘½å‘¨æœŸ\n- å·æŒ‚è½½ (ConfigMap/Secret/workspace bind) ä¸åªè¯»æ§åˆ¶\n- ç«¯å£ã€ç½‘ç»œå‚æ•°ç­‰å°è£…åœ¨ `DockerRunConfig`\n\n**GitOps æ”¯æŒ**\n- YAML å†…åµŒ ConfigMap å†™å…¥ workspace åæŒ‚è½½ `/etc/config`\n- æ‹‰å– etcd ConfigMap/Secret å¹¶ç”Ÿæˆæœ¬åœ°æ–‡ä»¶\n\n**å®‰å…¨åŸºçº¿**\n- è¿‡æ»¤ç©ºå‘½ä»¤ã€æ¸…ç†ç¯å¢ƒå˜é‡è¾“å…¥\n- ä»…ç»Ÿä¸€æ¨¡å—è½åœ° Docker å‘½ä»¤ï¼Œé¿å…ä¸´æ—¶ `docker run`\n\n**å¤šå®¹å™¨æ”¯æŒè®¡åˆ’ï¼ˆè®¾è®¡ä¸­ï¼‰**\n1. runtime::deployment éå† YAML `containers`ï¼Œç”Ÿæˆ `nokube-pod-<pod>-<container>` å¹¶å†™å…¥ container_path\n2. DockerRunner æ”¯æŒæˆç»„ create/stop/removeï¼Œä¿è¯æ›´æ–°/å›æ”¶æ—¶å®¹å™¨é›†ä¸€è‡´\n3. Exporter / æ—¥å¿—æ”¶é›†å™¨æŒ‰æ–° container_path é‡‡é›†æŒ‡æ ‡ä¸ scope_nameï¼Œé¢æ¿å˜é‡ç»§ç»­è”åŠ¨\n4. Pod/Actor ç­‰ etcd å…ƒæ•°æ®æ‰©å±•ä¸ºå¤šå®¹å™¨ç»“æ„ï¼Œç¡®ä¿å¥åº·æ£€æŸ¥ä¸å›æ”¶è¦†ç›–æ¯ä¸ªå®¹å™¨","x":2970,"y":1600,"width":770,"height":452},
		{"id":"dash-cluster-home","type":"text","text":"## ç›‘æ§é¢æ¿è§„åˆ’\n- Cluster Dashboard è®¾ç½®ä¸ºé»˜è®¤é¦–é¡µ\n- é¡¶éƒ¨æ–°å¢ â€˜å…³é”®é“¾æ¥â€™ é¢æ¿ï¼Œæä¾›å¿«æ·è·³è½¬ï¼š\n  - Actor Dashboard (/d/nokube-actor-dashboard)\n  - Logs (MySQL) (/d/nokube-logs-mysql)\n  - HTTP æ–‡ä»¶æœåŠ¡å™¨ (Head èŠ‚ç‚¹)\n  - Greptime Metrics (/v1/prometheus)","x":5810,"y":1720,"width":580,"height":300},
		{"id":"21029617ed1cf87d","type":"text","text":"","x":5780,"y":1700,"width":250,"height":4},
		{"id":"ea2e9375f8de9b78","type":"text","text":"## Metric: nokube_container_cpu\nå®¹å™¨ CPU ä½¿ç”¨ç‡ï¼ˆ%ï¼‰ï¼Œä¾› Cluster/Node CPU é¢æ¿å †å ã€‚","x":8085,"y":5530,"width":700,"height":120},
		{"id":"6dd5a77cb7493db1","type":"text","text":"## Metric: nokube_node_mem_other_bytes\nèŠ‚ç‚¹éå®¹å™¨å†…å­˜ï¼ŒCluster/Node å†…å­˜é¢æ¿å †å é¡¹ã€‚","x":8090,"y":4560,"width":700,"height":100},
		{"id":"53bbafeffc8911e7","type":"text","text":"## Metric: nokube_actor_lifecycle\nActor å¯åœäº‹ä»¶ï¼ˆstart=1/stop=-1ï¼‰ï¼Œå½“å‰ Grafana é¢„ç•™å¾…ç”¨ã€‚","x":8085,"y":4440,"width":710,"height":120},
		{"id":"9558151dadc662fc","type":"text","text":"## Metric: nokube_cpu_usage\nèŠ‚ç‚¹ CPU åˆ©ç”¨ç‡ï¼ˆ%ï¼‰ï¼Œç”¨äº cluster dashboard èŠ‚ç‚¹æ¨¡æ¿ (`label_values`).","x":8090,"y":4970,"width":700,"height":110},
		{"id":"53811a521b1b9eb4","type":"text","text":"## Metric: nokube_cpu_cores\nèŠ‚ç‚¹å¯ç”¨é€»è¾‘æ ¸æ•°ï¼ˆç›®å‰ Grafana æœªç›´æ¥å¼•ç”¨ï¼‰ã€‚","x":8090,"y":5080,"width":700,"height":110},
		{"id":"eb63fca595bad3ee","type":"text","text":"## Metric: nokube_memory_usage\nèŠ‚ç‚¹å†…å­˜åˆ©ç”¨ç‡ï¼ˆ%ï¼‰ï¼Œå½“å‰ Grafana æœªç›´æ¥ä½¿ç”¨ã€‚","x":8090,"y":5190,"width":700,"height":110},
		{"id":"743be6174a9b2798","type":"text","text":"## Metric: nokube_network_rx_bytes\nèŠ‚ç‚¹ç½‘ç»œä¸‹è¡Œç´¯è®¡å­—èŠ‚ï¼ŒNetwork RX é¢æ¿ rate() æºã€‚","x":8090,"y":5300,"width":700,"height":115},
		{"id":"a2ec4b6c3481a869","type":"text","text":"## Metric: nokube_network_tx_bytes\nèŠ‚ç‚¹ç½‘ç»œä¸Šè¡Œç´¯è®¡å­—èŠ‚ï¼ŒNetwork TX é¢æ¿ rate() æºã€‚","x":8090,"y":5415,"width":700,"height":115},
		{"id":"aae4556fb8648bc3","type":"text","text":"## Metric: nokube_container_mem_bytes\nå®¹å™¨å†…å­˜å­—èŠ‚æ•°ï¼Œè¡¨æ ¼/è®¡æ•°/æ—¶åºçš„æ ¸å¿ƒæ¥æºã€‚","x":8090,"y":4310,"width":715,"height":100},
		{"id":"grafana-import-flow","type":"text","text":"## Grafana Dashboard Import Flow\n- ServiceModeAgent(head) å¯åŠ¨ Grafana â†’ æ¢æ´»é€šè¿‡ â†’ è°ƒç”¨ GrafanaManager å¯¼å…¥ cluster/actor é»˜è®¤é¢æ¿ï¼Œè®¾ç½®é¦–é¡µ\n- CLI `new-or-update` ä¿æŒå¯ç”¨ï¼šCommandModeAgent åŒæ ·å¤ç”¨ GrafanaManager\n- æ§åˆ¶ä¾§ (MasterAgent) ä»å¯æŒ‰éœ€è§¦å‘å¯¼å…¥ï¼Œä¸‰æ¡è·¯å¾„å…±äº«åŒä¸€å¥— JSON æ¨¡æ¿\n- æ•°æ®ç›®å½•æŒ‚è½½ `{workspace}/data/grafana`ï¼Œä»ªè¡¨ç›˜å¯¼å…¥åªéœ€åœ¨é¦–æ¬¡/ç›®å½•è¢«æ¸…ç©ºæ—¶æ‰§è¡Œ","x":4760,"y":980,"width":660,"height":420},
		{"id":"docker-config-example","type":"text","text":"## ConfigMap æŒ‚è½½ç¤ºä¾‹\n\n**GitOps YAMLç»“æ„:**\n```yaml\nspec:\n  configMap:\n    data:\n      requirements.txt: \"flask==2.3.2\\nrequests==2.31.0\"\n      webhook-server.py: \"#!/usr/bin/env python3\\n...\"\n  webhookDeployment:\n    containerSpec:\n      image: python:3.10-slim\n      command: [\"/bin/bash\"]\n      args: [\n        \"-c\", \n        \"pip install -r /etc/config/requirements.txt && python /etc/config/webhook-server.py\"\n      ]\n```\n\n**ç”Ÿæˆçš„Dockerå‘½ä»¤:**\n```bash\ndocker run -d \\\n  --name nokube-pod-{deployment-name} \\\n  -v {workspace}:/pod-workspace \\\n  -v {workspace}/configmaps/{deployment-name}:/etc/config:ro \\\n  -e FLASK_PORT=8080 \\\n  python:3.10-slim \\\n  /bin/bash -c \"pip install -r /etc/config/requirements.txt && python /etc/config/webhook-server.py\"\n```\n\n**æ–‡ä»¶ç³»ç»Ÿç»“æ„:**\n```\n{workspace}/\nâ”œâ”€â”€ configmaps/\nâ”‚   â””â”€â”€ {deployment-name}/\nâ”‚       â”œâ”€â”€ requirements.txt\nâ”‚       â””â”€â”€ webhook-server.py\nâ””â”€â”€ ...\n```\n\n**åŠ¨æ€å˜é‡è¯´æ˜:**\n- `{workspace}` - å·¥ä½œç©ºé—´è·¯å¾„ (é»˜è®¤: /opt/devcon/pa/nokube-workspace)\n- `{deployment-name}` - éƒ¨ç½²åç§° (å¦‚: gitops-webhook-server-home-cluster)\n- `{cluster-name}` - é›†ç¾¤åç§°","x":1723,"y":2482,"width":700,"height":700},
		{"id":"n-fix-workspace","type":"text","text":"## ConfigMap æŒ‚è½½å®ç°ï¼ˆç»†åŒ–ï¼‰\n- å·¥ä½œç›®å½•æ¥æºï¼šä» ClusterConfig è¯»å–å½“å‰èŠ‚ç‚¹ workspaceï¼ˆé¿å…ç¡¬ç¼–ç ï¼‰ã€‚\n- å†™å…¥ï¼šå°† ConfigMap data å†™å…¥ `{workspace}/configmaps/{deployment}` ç›®å½•ï¼Œè‹¥ä¸å­˜åœ¨å…ˆåˆ›å»ºã€‚\n- æŒ‚è½½ï¼šé€šè¿‡ DockerRunConfig.add_volume å°†ä¸Šè¿°ç›®å½•ä»¥åªè¯»æ–¹å¼æŒ‚è½½åˆ°å®¹å™¨ `/etc/config`ã€‚\n- ç”Ÿæ•ˆé¢ï¼šDeployment/DaemonSet ç»Ÿä¸€ä½¿ç”¨èŠ‚ç‚¹ workspaceï¼ŒKubeController åˆå§‹åŒ–äº¦ä¿æŒä¸€è‡´ã€‚\n- ç›¸å…³æ–‡ä»¶ï¼šsrc/agent/service_agent/service_mode_agent.rsï¼ˆç»Ÿä¸€å®¹å™¨åˆ›å»ºé€»è¾‘ï¼‰","x":1723,"y":3322,"width":700,"height":360},
		{"id":"9cf4ae7f0bc843ff","type":"text","text":"## Metric: nokube_container_cpu_cores\nå®¹å™¨æŠ˜ç®— CPU æ ¸æ•°ï¼Œç”¨äº Root Actors ä¸ CPU æ—¶åºã€‚","x":8080,"y":4190,"width":705,"height":100},
		{"id":"9637b6dd8a712c9e","type":"text","text":"## Metric: nokube_actor_status (pod)\nActor å­˜æ´»å¿ƒè·³ï¼ˆ1/-1ï¼‰ï¼ŒGrafana æ¨¡æ¿å˜é‡ä¾èµ– `actor_level=pod` ç»Ÿè®¡æ´»è·ƒ root_actor/å®¹å™¨ã€‚\n- å…³è”å˜é‡: $root_actor / $container / $node\n- è¿‡æ»¤çª—å£: last_over_time(nokube_actor_status{actor_level=\"pod\"}[30s]) > 0","x":7920,"y":4020,"width":910,"height":180},
		{"id":"02e699f71e2275ad","type":"text","text":"## Metric: nokube_memory_used_bytes\nèŠ‚ç‚¹å·²ç”¨å†…å­˜å­—èŠ‚ï¼ˆå½“å‰ Grafana æœªç›´æ¥å¼•ç”¨ï¼‰ã€‚","x":8090,"y":4770,"width":710,"height":100},
		{"id":"4e81f771478c5049","type":"text","text":"## Metric: nokube_memory_total_bytes\nèŠ‚ç‚¹æ€»å†…å­˜å­—èŠ‚ï¼ˆå½“å‰ Grafana æœªç›´æ¥å¼•ç”¨ï¼‰ã€‚","x":8090,"y":4870,"width":710,"height":100},
		{"id":"be26e494f4ce5f63","type":"text","text":"## Metric: nokube_node_mem_free_bytes\nèŠ‚ç‚¹å‰©ä½™å†…å­˜ï¼ŒCluster/Node å†…å­˜é¢æ¿å †å é¡¹ã€‚","x":8090,"y":4660,"width":700,"height":100},
		{"id":"grafana-manager-general","type":"text","text":"## GrafanaManager\n- æ¨¡å—ä½ç½®: `src/agent/general/grafana_manager.rs`\n- æä¾› Grafana ä»ªè¡¨ç›˜å¯¼å…¥æ¥å£ï¼š`import_cluster_dashboard()` / `import_actor_dashboard()` / `import_logs_dashboard()`\n- ServiceModeAgent(head èŠ‚ç‚¹) åœ¨ Grafana `/api/health` å°±ç»ªåè°ƒç”¨ï¼Œç¡®ä¿é»˜è®¤é¢æ¿è‡ªåŠ¨è½åœ°\n- ä¾èµ–å…±äº«æ¨¡æ¿(`general::grafana_dashboards`)ä¸ Grafana HTTP API","x":2920,"y":520,"width":580,"height":420},
		{"id":"2faefa3b8c902c4d","type":"text","text":"## Panel: Cluster Container Memory (stacked)\n- Grafana Graph\n- æŒ‡æ ‡: sum last_over_time(nokube_container_mem_bytes) + node_mem_other/free\n- å˜é‡: $cluster\n- åœºæ™¯: é›†ç¾¤çº§å®¹å™¨å†…å­˜è¶‹åŠ¿","x":9125,"y":4840,"width":800,"height":180},
		{"id":"d8835376af30e59a","type":"text","text":"## Panel: Network TX (Upload)\n- Grafana Graph\n- æŒ‡æ ‡: rate(nokube_network_tx_bytes[5m])\n- å˜é‡: $cluster, $node","x":9205,"y":5200,"width":840,"height":170},
		{"id":"1cab9152c78575fa","type":"text","text":"## Panel: Cluster Container CPU (stacked %)\n- Grafana Graph\n- æŒ‡æ ‡: sum by (container)(nokube_container_cpu)\n- å˜é‡: $cluster","x":9205,"y":5370,"width":840,"height":160},
		{"id":"8ecf221a16634edd","type":"text","text":"## Panel: Node CPU by Container [$node]\n- Grafana Graph (repeat)\n- æŒ‡æ ‡: nokube_container_cpu{node=~\"$node\"}\n- å˜é‡: $cluster, $node","x":9205,"y":5530,"width":840,"height":160},
		{"id":"c0d92205384ae5ff","type":"text","text":"## Panel: Container Count\n- Grafana Stat\n- æ•°æ®: count(count by (pod,container)(nokube_container_mem_bytes))\n- å˜é‡: $cluster, $root_actor, $container\n- è¿‡æ»¤: ä¸ last_over_time(nokube_actor_status{actor_level=\"pod\"}[30s]) > 0 ç»‘å®š\n- ä½œç”¨: ç»Ÿè®¡ç¬¦åˆç­›é€‰æ¡ä»¶çš„å®¹å™¨æ•°","x":9173,"y":3320,"width":680,"height":200},
		{"id":"bb8189dc5a9eeffb","type":"text","text":"## Panel: Root Actors\n- Grafana Stat\n- æ•°æ®: count(count by (root_actor)(nokube_container_cpu_cores))\n- å˜é‡: $cluster\n- ä½œç”¨: å±•ç¤ºæ´»è·ƒ root_actor æ•°é‡","x":9173,"y":3460,"width":680,"height":160},
		{"id":"d33f4f3976ad1ed5","type":"text","text":"## Panel: Pods Table\n- Grafana Table\n- æ•°æ®: sum by (pod,node)(nokube_container_mem_bytes)\n- å˜é‡: $cluster, $root_actor, $container\n- è¿‡æ»¤: last_over_time(nokube_actor_status{actor_level=\"pod\"}[30s]) > 0\n- å±•ç¤º: èŠ‚ç‚¹/Pod çš„å†…å­˜å ç”¨","x":9173,"y":3600,"width":680,"height":210},
		{"id":"05a61dd0441d01bf","type":"text","text":"## Panel: Containers Table\n- Grafana Table\n- æ•°æ®: nokube_container_mem_bytes (å« container_path é“¾æ¥)\n- å˜é‡: $cluster, $root_actor, $container\n- è¿‡æ»¤: last_over_time(nokube_actor_status{actor_level=\"pod\"}[30s]) > 0\n- å±•ç¤º: èŠ‚ç‚¹/Pod/Container æ˜ç»†","x":9173,"y":3760,"width":680,"height":220},
		{"id":"5335dde14d1038ab","type":"text","text":"## Labels: container_path ç­‰\n`cluster/root_actor/pod/container` ç»„åˆæ ‡ç­¾ï¼Œä¾›å®¹å™¨æ˜ç»†ä¸æ—¥å¿—è”åŠ¨ã€‚","x":9153,"y":2920,"width":705,"height":100},
		{"id":"63a7919ba26e1c77","type":"text","text":"the_proxy\nç‰¹æ®Šactoråç¨‹ï¼Œä¸€ä¸ªagentä¸€ä¸ªï¼Œç”¨äºèšåˆæ‰€æœ‰ k8s actor ä¸€æ®µæ—¶é—´å†…çš„è¯·æ±‚ï¼ˆä¸€èˆ¬å°±æ˜¯æ ¡éªŒå…¶ä»å±ä»¥åŠç®¡æ§çš„actoræ˜¯å¦aliveï¼‰\nå½“å‰ä½¿ç”¨: ServiceModeAgent -> KubeController -> actors å·²æ¥å…¥, etcd /nokube/{cluster}/actors/*/alive æŒç»­åˆ·æ–°","x":583,"y":2347,"width":360,"height":201},
		{"id":"the-proxy-keepalive-task","type":"text","text":"## the_proxy Keepalive [ç‹¬ç«‹task]\nå½’å±: the_proxy\nè§¦å‘: tokio::spawn (periodic_keepalive)\nå‘¨æœŸ: keepalive_interval (é»˜è®¤ 5s)\nèŒè´£: ç»­ç§Ÿ alive key, è¶…æ—¶æ ‡è®° Dead\nå…³é”®ä»£ç : src/k8s/the_proxy.rs::periodic_keepalive\nå½“å‰ä½¿ç”¨: ServiceModeAgent::run å¯åŠ¨æ—¶è‡ªåŠ¨ spawn (src/agent/service_agent/service_mode_agent.rs)","x":1103,"y":2332,"width":520,"height":300},
		{"id":"the-proxy-alive-task","type":"text","text":"## the_proxy Alive æ¶ˆè´¹ [ç‹¬ç«‹task]\nå½’å±: the_proxy\nè§¦å‘: tokio::spawn (handle_alive_requests)\næ¨¡å¼: å¼‚æ­¥é€šé“å¾ªç¯\nèŒè´£: æ¥æ”¶ ActorAliveRequest, å†™ `/nokube/{cluster}/actors/{path}/alive` å¸¦ç§Ÿçº¦æ¡ç›®\nå…³é”®ä»£ç : src/k8s/the_proxy.rs::handle_alive_requests\nå½“å‰ä½¿ç”¨: DaemonSet/Deployment/Pod actors é€šè¿‡ proxy_tx å®æ—¶ä¸ŠæŠ¥ (src/k8s/actors.rs)","x":1103,"y":2660,"width":520,"height":320},
		{"id":"actor-fullpath","type":"text","text":"## Actor Fullpath æ ‡è¯†\n\nå®šä¹‰\n- Canonical: `cluster/root_actor/pod/container`ã€‚\n- Exporter æ¨é€ `container_path` æ ‡ç­¾ (canonical=1)ï¼›æ—¥å¿— `scope_name` åŒæ­¥æ­¤è·¯å¾„ã€‚\n\nç”¨é€”\n- Actor å±‚çº§é’»å–ã€ä»ªè¡¨ç›˜è”åŠ¨ã€å®¹å™¨å»é‡ã€‚\n- Grafana å˜é‡ `fullpath` ä¸ legacy `container_path` å…¼å®¹ï¼Œå¯ç”¨äºè·¨é¢æ¿è·³è½¬ã€æ—¥å¿—ç­›é€‰ã€‚\n\nå¤‡æ³¨\n- CLI/Agent ç»Ÿä¸€ä¾èµ–è¯¥æ ‡è¯†ï¼Œåç»­ Actor ç®¡ç†åŠŸèƒ½å¤ç”¨ã€‚","x":892,"y":4292,"width":720,"height":375},
		{"id":"root-actor-definition","type":"text","text":"## Root Actor æ¦‚å¿µ\n- å®šä¹‰: Actor å±‚çº§çš„æ ¹èŠ‚ç‚¹ï¼Œç”¨äºèšåˆ Pod/å®¹å™¨æŒ‡æ ‡ä¸æ—¥å¿—\n- åˆ†ç±»: deployment/<name> æˆ– daemonset/<name>\n- ç”Ÿæˆ: åˆ›å»º Deployment/DaemonSet Actor æ—¶è‡ªåŠ¨ç”Ÿæˆé¡¶å±‚è·¯å¾„\n- ä½œç”¨: root_actor æ ‡ç­¾æŒ‡å¯¼ Grafana ä»ªè¡¨ç›˜ä¸æ—¥å¿—èšåˆ","x":962,"y":3892,"width":600,"height":260},
		{"id":"a1985af03c62db31","type":"text","text":"## Panel: Container Memory æ—¶åº\n- Grafana Timeseries\n- æ•°æ®: sum by (pod,container,node)(nokube_container_mem_bytes)\n- å åŠ : last_over_time(nokube_node_mem_other_bytes/free_bytes)\n- å˜é‡: $cluster, $root_actor, $container, $node\n- è¿‡æ»¤: last_over_time(nokube_actor_status{actor_level=\"pod\"}[30s]) > 0","x":9173,"y":4290,"width":800,"height":240},
		{"id":"18146762550f3fd1","type":"text","text":"## Panel: Node Memory by Container [$node]\n- Grafana Graph (repeat)\n- æŒ‡æ ‡: last_over_time(nokube_container_mem_bytes{node}[60s]) + node_mem_other/free\n- å˜é‡: $cluster, $root_actor, $container, $node\n- è¿‡æ»¤: last_over_time(nokube_actor_status{actor_level=\"pod\"}[30s]) > 0","x":9173,"y":3920,"width":680,"height":220},
		{"id":"cc3c1a31ff6a6d92","type":"text","text":"## Panel: Network RX (Download)\n- Grafana Graph\n- æŒ‡æ ‡: rate(nokube_network_rx_bytes[5m])\n- å˜é‡: $cluster, $node","x":9205,"y":5035,"width":800,"height":160},
		{"id":"2b2c75cfe9dfdc26","type":"text","text":"## Panel: Container CPU æ—¶åº\n- Grafana Timeseries\n- æ•°æ®: sum by (pod,container,node)(nokube_container_cpu_cores)\n- å˜é‡: $cluster, $root_actor, $container\n- è¿‡æ»¤: ä¸ last_over_time(nokube_actor_status{actor_level=\"pod\"}[30s]) > 0 è”åŠ¨\n- ä½œç”¨: è§‚å¯Ÿå®¹å™¨ CPU cores éšæ—¶é—´å˜åŒ–","x":9173,"y":4070,"width":680,"height":220},
		{"id":"cli-service-status-bridge","type":"text","text":"### new-or-update â†” Service Agent\n- CLI ä»…åœ¨å½“æ¬¡éƒ¨ç½²ç”Ÿæˆ deployment_versionï¼ˆæ—¶é—´æˆ³ + UUIDï¼‰ï¼Œéš extra_params(base64 JSON) ä¼ ç»™è¿œç«¯ agent\n- command/service agent è¯»å–ç‰ˆæœ¬å·åå›å†™æ¨¡å—çŠ¶æ€ï¼Œä¸æ±¡æŸ“å…±äº«é…ç½®\n- CLI è½®è¯¢ `/service_agents/.../deployments/{version}`ï¼Œæ±‡æ€»æ‰€æœ‰èŠ‚ç‚¹ç»“æœ","x":680,"y":800,"width":760,"height":260},
		{"id":"n-gitops-note","type":"text","text":"## GitOps Controller éƒ¨ç½²è¦ç‚¹\n- é•œåƒï¼špython:3.10-slimï¼›å®¹å™¨åï¼šnokube-pod-<deployment>ã€‚\n- ConfigMapï¼šgitops-scripts-<cluster> æŒ‚è½½è‡³ /etc/configï¼ˆrequirements.txt, gitops-controller.pyï¼‰ã€‚\n- å‘½ä»¤ï¼špip install -r /etc/config/requirements.txt && python /etc/config/gitops-controller.pyã€‚\n- çœŸå®çŠ¶æ€ä»¥ etcd /pods ä¸å®¹å™¨ä¸ºå‡†ã€‚","x":1088,"y":1934,"width":520,"height":320},
		{"id":"kubecontroller-overview","type":"text","text":"## KubeControllerï¼ˆä¸­å¿ƒå›æ”¶ï¼‰\n\n- å½’å±è·¯å¾„: `service/{node}/kubecontroller`ï¼ˆç”± ServiceModeAgent å¯åŠ¨ï¼‰\n- å…±äº« TheProxy å‘é€ç«¯ï¼Œè´Ÿè´£ actor å¿ƒè·³ç»­çº¦ã€å­¤å„¿å›æ”¶\n- æ¯ 15s è°ƒåº¦å·¡æ£€ï¼šéå† deployments/daemonsetsï¼Œè§¦å‘ pod.cleanup_if_orphaned()\n- Actor æ‰«æ: è½®è¯¢ `/nokube/{cluster}/deployments|daemonsets/`ï¼Œç›´æ¥æ„å»º/é‡å»ºå®¹å™¨\n- æ¥å£ï¼š\n  - `register_container_listener(tx)`ï¼šç»Ÿä¸€å®¹å™¨äº‹ä»¶æ€»çº¿ï¼ˆcreate/stopï¼‰ï¼ŒLogCollectorã€Exporter ç­‰è®¢é˜…åå¿…é¡»å…ˆæ‰§è¡Œä¸€æ¬¡å…¨é‡å¯¹è´¦\n- ä¸ Grafana Freshness å¯¹é½ï¼šç¡®ä¿ 30s å†…æ— å¿ƒè·³çš„å®¹å™¨å…¨éƒ¨è¢«æ¸…ç©º","x":852,"y":3052,"width":820,"height":360},
		{"id":"actor-lifecycle","type":"text","text":"## Actor åç¨‹ç”Ÿå‘½å‘¨æœŸä¸æ²»ç†\n\n### è§’è‰²ä¸è·¯å¾„\n- ServiceAgent: `service/{node}/agent`\n- KubeController: `service/{node}/kubecontroller`\n- DeploymentActor: `service/{node}/deployment/{name}`\n- DaemonSetActor: `service/{node}/daemonset/{name}`\n\n> ç»Ÿä¸€ ActorPath ä¾¿äºè·¨èŠ‚ç‚¹ååŒ\n\n### å­˜æ´»ä¸çˆ¶å­å…³ç³»\n- å­˜æ´»é”®: `/nokube/{cluster}/actors/{actor_path}/alive` (etcd å¸¦ç§Ÿçº¦)\n  - `lease_ttl=15s`, keepalive `5s`\n  - å€¼åŒ…å«: `last_alive`, `node`, `version`\n- çˆ¶é”®: `/nokube/{cluster}/actors/{actor_path}/parent` â†’ çˆ¶ActorPath\n- å­é›†åˆ: `/nokube/{cluster}/actors/{actor_path}/children` â†’ å­ActorPathåˆ—è¡¨\n\n### å­¤å„¿å›æ”¶ï¼ˆä¸­å¿ƒè°ƒåº¦ï¼‰\n- KubeController æ¯ 15s æ‰«æ deployments/daemonsetsï¼Œé€ä¸ªæŒ‡æ´¾ pod.cleanup_if_orphaned()\n- cleanup_if_orphaned() ç”±æ§åˆ¶é¢è§¦å‘ï¼šæ ¡éªŒçˆ¶çº§ etcd é”®ä¸ alive ç§Ÿçº¦ï¼Œå¿…è¦æ—¶åœæ­¢å®¹å™¨å¹¶æ¸…ç† `/pods`ã€`/events`\n- Actor ä¸å†è‡ªå¯ä¼´éšåç¨‹ï¼Œè‡ªèº«ä»…è´Ÿè´£ä¸šåŠ¡é€»è¾‘ä¸å¿ƒè·³ä¸ŠæŠ¥\n\n### å¿ƒè·³åˆ¤å®šä¸å¯è§‚æµ‹æ€§\n- Deployment/DaemonSet/Pod Actor ç»Ÿä¸€å†™å…¥ `lease_ttl=15s` çš„ alive å¿ƒè·³ï¼›TheProxy 5s keepalive ç¡®ä¿ç§Ÿçº¦ç»­çº¦\n- `PodDescription` è¯»å– alive ä¿¡æ¯ï¼Œè‹¥ `last_alive` è¶…è¿‡ `2 * lease_ttl` (é»˜è®¤ 30s) åˆ¤å®šä¸º Deadï¼ŒCLI/Grafana ä¼šéšè—è¿™äº›å®¹å™¨\n- Freshness è§„åˆ™ä¸ Dashboard çš„ `count_over_time(metric[30s]) > 0` å¯¹é½\n\n### ä¿¡å·é€šé“\n- `/nokube/{cluster}/actors/{actor_path}/signal`: `shutdown|drain|restart`\n- ç”±çˆ¶æˆ–æ§åˆ¶é¢å†™å…¥ï¼›å­æ¶ˆè´¹åå†™ `/ack`\n\n### ç»Ÿä¸€ Actor æ¥å£\n- æ§åˆ¶é¢ç»Ÿä¸€è°ƒç”¨ `Actor::check()` è·å–æ²»ç†è®¡åˆ’ï¼›è¿”å›å€¼ç»Ÿä¸€ä¸ºéœ€è¦å…³é—­/é‡å»ºçš„èµ„æºåˆ—è¡¨ä¸è¦ä¸‹å‘çš„ä¿¡å·\n- å­ Actor çš„ `check()` é€’å½’ä¸‹æ²‰è‡³ pod.checkï¼Œå¯¹é½çˆ¶å­ ActorPathï¼Œå°è£…å®¹å™¨ã€äº‹ä»¶ç­‰å®é™…å¤„ç½®åŠ¨ä½œ\n- KubeController æ±‡æ€» `check()` ç»“æœåç»Ÿä¸€æ‰§è¡Œï¼Œä¿æŒæ¥å£ä¸€è‡´æ€§å¹¶æ”¯æŒåç»­æ‰©å±•æ›´å¤š Actor ç±»å‹\n\n### æœ¬åœ°å®¹å™¨å‘½å\n- ç»Ÿä¸€ä¸º `nokube-pod-{deploymentName}`ï¼Œä¾¿äºè·¨æ¨¡å—å›æ”¶\n","x":-8,"y":3052,"width":770,"height":1240},
		{"id":"d8d98b5f9f5121be","type":"text","text":"k8s actor \nå¯¹åº”etcd æŸä¸ªé…ç½®\næ­¤å¤–è¿™ä¸ªactorçš„aliveåº”è¯¥å†—ä½™ä¸€ä¸ªkeyï¼Œå¹¶ä¸”æŒ‰ç…§è¿™ä¸ªactorçš„ç²’åº¦è®¾ç½®lease\nå®šæœŸå‘ the proxyå‘å‡ºè¯·æ±‚ï¼Œä¿æ´»è‡ªå·±çš„leaseä»¥åŠæ£€æŸ¥è‡ªå·±å…³è”ç»„ä»¶","x":98,"y":1800,"width":300,"height":195},
		{"id":"k8s-abstraction","type":"text","text":"## Actor æ¨¡æ‹Ÿå±‚\nk8sä¸­çš„daemonsetã€deploymentã€pod ç»Ÿä¸€ç§°ä½œactorï¼Œä¸ºæŸä¸ªagenté‡Œçš„ä¸€ä¸ªåç¨‹æ‰€ç®¡æ§\n\n**src/k8s/**\n- objects.rs\n- controllers.rs\n- storage.rs\n- heartbeat.rs\n\nğŸ“¦ Pod ç®¡ç†\nâš–ï¸ DaemonSet/Deployment\nğŸ” Config/Secret å­˜å‚¨\nğŸ’“ ç”Ÿå‘½å‘¨æœŸç›‘æ§","x":213,"y":2052,"width":370,"height":430},
		{"id":"kubecontroller-actor-scan-task","type":"text","text":"## KubeController Actor æ‰«æ [ç‹¬ç«‹task]\nå½’å±: KubeController (start_actor_monitor)\nå‘¨æœŸ: 15s\nèŒè´£: è½®è¯¢ `/nokube/{cluster}/deployments|daemonsets/`ï¼Œå¯¹æ¯” runtime::deployment::calc_hash_u64 ç”Ÿæˆçš„ YAML checksum\n  - æ–°å¢/å˜æ›´: æ–° key æˆ– checksum å˜åŒ– â†’ è°ƒç”¨ runtime::deployment::create_deployment_container é‡å»ºå®¹å™¨\n  - å¿ƒè·³ç¼ºå¤±/å­¤å„¿: Actor alive key ç¼ºå¤±/è¿‡æœŸ â†’ è°ƒç”¨ pod.cleanup_if_orphaned() æ¸…ç†å®¹å™¨ä¸ etcd\n  - é€’å½’æ ¡éªŒ: KubeController ä»…ç®¡æ§ DaemonSet/Deployment Actorï¼Œå…ˆè°ƒç”¨å®ƒä»¬ç»Ÿä¸€çš„ `check()` æ¥å£ï¼Œå†ç”± Actor é€’å½’ä¸‹æ²‰è‡³ pod.check æ”¶æ•›å¾…å…³é—­èµ„æºï¼ˆå½“å‰ä¸»è¦æ˜¯ Docker å®¹å™¨ï¼‰\n  - æœ€ç»ˆæ‰§è¡Œ: `check()` è¿”å›çš„å…³é—­è®¡åˆ’ç»Ÿä¸€å›ä¼ ç»™ KubeControllerï¼Œåœ¨æ§åˆ¶å±‚é›†ä¸­æ‰§è¡Œï¼Œä¿è¯ Actor æ¥å£ä¸€è‡´æ€§ä¸é€’å½’æ‰©å±•èƒ½åŠ›\nå…³é”®ä»£ç : src/k8s/controllers.rs::start_actor_monitor","x":1022,"y":3502,"width":650,"height":260},
		{"id":"service-agent-summary","type":"text","text":"## ServiceModeAgent (å®¹å™¨/è°ƒåº¦ä¸­æ¢)\n\nèŒè´£\n- ç®¡ç† TheProxyã€KubeControllerã€Exporter ç­‰å­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ\n- å¯åŠ¨ / ç›‘æŠ¤æœ¬åœ°ç³»ç»ŸæœåŠ¡ (Grafanaã€GreptimeDBã€HTTP Server)\n- Grafana å®¹å™¨æŒ‚è½½ `{workspace}/config/*` + `{workspace}/data/grafana`ï¼Œé¿å…é‡å¤è¿ç§»ï¼Œå¹¶åœ¨æ¢æ´»åè§¦å‘ä»ªè¡¨ç›˜å¯¼å…¥\n- åˆå§‹åŒ–é˜¶æ®µå†™å…¥ `/nokube/{cluster}/pods|events` çŠ¶æ€ (ç»‘å®šæœåŠ¡)\n\nç½‘ç»œçº¦æŸ\n- Grafana/Greptime/HTTP å‡ç»‘å®š head èŠ‚ç‚¹ IPï¼ˆClusterConfig.nodes[role=head].ssh_urlï¼‰ï¼Œå¤–éƒ¨ API è°ƒç”¨å¿…é¡»æŒ‡å‘è¯¥ IP","x":-100,"y":535,"width":540,"height":460},
		{"id":"service-agent-status-sync","type":"text","text":"## Service Agent Startup\n- new-or-update ç”Ÿæˆ `deployment_version`ï¼Œcommand/service agent å…±äº«\n- `/nokube/{cluster}/service_agents/{node}/deployments/{version}` æŒ‰æ¨¡å—è®°å½•çŠ¶æ€\n- compare-and-swap å†™å…¥ï¼šæˆåŠŸ â†’ Successï¼Œå¤±è´¥ â†’ Failed + message\n- Agent å®šæœŸæ‰“å°æ¨¡å— summaryï¼ŒCLI ç›‘æ§æ‰€æœ‰èŠ‚ç‚¹ï¼Œä»»ä¸€ Failed ç«‹å³ç»ˆæ­¢","x":-120,"y":1120,"width":900,"height":260},
		{"id":"cli-apply","type":"text","text":"## CLI: apply\n\nç”¨æ³•\n- `nokube apply -f <file> [--cluster <name>] [--dry-run]`\n- `cat manifest.yaml | nokube apply --cluster <name>`\n\nè¯´æ˜\n- æ”¯æŒå¤šæ–‡æ¡£ YAMLï¼›æœªæŒ‡å®š `-f` æ—¶ä» stdin è¯»å–\n- `--dry-run` ä»…è§£æ/æ‰“å°ï¼Œä¸å†™å…¥ etcd\n\nç¤ºä¾‹\n- `nokube apply -f gitops.yaml --cluster home-cluster`","x":2280,"y":-577,"width":360,"height":362},
		{"id":"cli-get","type":"text","text":"## CLI: get\n\nç”¨æ³•\n- `nokube get <pods|deployments|daemonsets|configmaps|secrets> [name] [-o table|json|yaml] [-c <name>] [--all-namespaces]`\n\nè¯´æ˜\n- é»˜è®¤è¾“å‡º `-o table`ï¼›`-c` ç­‰åŒ `--cluster`\n- services åˆ—è¡¨æš‚æœªå®ç°\n\nç¤ºä¾‹\n- `nokube get pods -c home-cluster -o table`","x":2280,"y":-174,"width":360,"height":362},
		{"id":"n-hostport","type":"text","text":"## Decision: hostPort vs Service\n- é…ç½® hostPort åï¼ŒPod åœ¨èŠ‚ç‚¹ NodeIP:hostPort ç›´æ¥å¯è¾¾ï¼Œä¸ä¾èµ– Serviceã€‚\n- ä»å»ºè®®ï¼šä¸ºç¨³å®šå‘ç°/DNS ä¸è´Ÿè½½å‡è¡¡å åŠ  ClusterIP Serviceã€‚\n- è·¨èŠ‚ç‚¹å¯¹å¤–è®¿é—®ï¼šç”¨ NodePort/LoadBalancerï¼ˆéœ€è¦ Serviceï¼‰ã€‚\n- ä»£ä»·ï¼šåŒèŠ‚ç‚¹ç«¯å£å†²çªã€è°ƒåº¦å—é™ã€‚","x":2810,"y":-620,"width":520,"height":300},
		{"id":"n-ports","type":"text","text":"## Ports/hostPort æ”¯æŒï¼ˆTODOï¼‰\n- è§£æ spec.template.spec.containers[].ports/hostPort â†’ DockerRunConfig.add_port()ã€‚\n- å¦‚éœ€ Service èƒ½åŠ›ï¼šå®ç° apply_service æŒä¹…åŒ– + get/describe serviceã€‚\n- ç­–ç•¥ï¼šhostPort ç”¨äºæœ¬æœºæš´éœ²ï¼›Service æä¾›å‘ç°ä¸è´Ÿè½½ã€‚","x":2835,"y":-293,"width":520,"height":300},
		{"id":"cli-describe","type":"text","text":"## CLI: describe\n\nç”¨æ³•\n- `nokube describe <pod|deployment|daemonset|configmap|secret|service> <name> [-c <name>]`\n\nè¯´æ˜\n- ä» etcd æˆ–å†…ç½®æ¸²æŸ“è¾“å‡ºèµ„æºè¯¦æƒ…\n\nç¤ºä¾‹\n- `nokube describe pod gitops-controller-0 -c home-cluster`","x":1900,"y":-577,"width":360,"height":362},
		{"id":"cli-agent-service","type":"text","text":"## CLI: agent-service\n\nç”¨æ³•\n- `nokube agent-service [--extra-params <BASE64(JSON)>]`\n\nè¯´æ˜\n- å¸¸é©»æœåŠ¡æ¨¡å¼è¿è¡Œ Agent","x":1450,"y":-168,"width":360,"height":362},
		{"id":"cli-agent-command","type":"text","text":"## CLI: agent-command\n\nç”¨æ³•\n- `nokube agent-command --extra-params <BASE64(JSON)>`\n\nè¯´æ˜\n- ä¸€æ¬¡æ€§å‘½ä»¤æ¨¡å¼ï¼›`extra-params` å¿…é¡»åŒ…å« `cluster_name`\n\nç¤ºä¾‹\n- `echo -n '{\"cluster_name\":\"home-cluster\"}' | base64`","x":1450,"y":-571,"width":360,"height":362},
		{"id":"9213010bd51b4eba","type":"text","text":"dockerå¯åŠ¨ï¼Œç¨³å®šéš”ç¦»è¿è¡Œ","x":-100,"y":430,"width":160,"height":90},
		{"id":"cli-logs","type":"text","text":"## CLI: logs\n\nç”¨æ³•\n- `nokube logs <pod> [-c <name>] [--follow] [--tail N]`\n\nè¯´æ˜\n- ç»“åˆ etcd çŠ¶æ€/äº‹ä»¶ï¼›Running æ—¶å±•ç¤ºç¤ºä¾‹æ—¥å¿—ï¼›æ”¯æŒ `--follow`\n\nç¤ºä¾‹\n- `nokube logs my-pod -c home-cluster --tail 100`","x":1900,"y":-174,"width":360,"height":362},
		{"id":"cli-new-or-update","type":"text","text":"## CLI: new-or-update\n\nç”¨æ³•\n- `nokube new-or-update [config.yaml]`\n\nè¯´æ˜\n- æœªæä¾›æ–‡ä»¶æ—¶ç”Ÿæˆæ¨¡æ¿ `cluster-config-template.yaml` å¹¶æç¤ºäºŒæ¬¡æ‰§è¡Œ\n- æŒä¹…åŒ–é›†ç¾¤é…ç½®åˆ° etcd å¹¶è§¦å‘éƒ¨ç½²/æ›´æ–°\n\nç¤ºä¾‹\n- `nokube new-or-update ./home-cluster.yaml`","x":520,"y":-545,"width":360,"height":362},
		{"id":"cli-monitor","type":"text","text":"## CLI: monitor\n\nç”¨æ³•\n- `nokube monitor --cluster <name>`\n\nè¯´æ˜\n- å¯åŠ¨ GreptimeDB + Grafanaï¼Œè‡ªåŠ¨é…ç½®æ•°æ®æºä¸ä»ªè¡¨ç›˜\n\nç¤ºä¾‹\n- `nokube monitor --cluster home-cluster`","x":520,"y":-142,"width":360,"height":362},
		{"id":"remote-control","type":"text","text":"## Remote Control\n\n**src/remote_ctl/**\n- ssh_manager.rs\n- deployment_controller.rs\n\nğŸ”— SSH è¿æ¥ç®¡ç†\nğŸš€ åˆ†å¸ƒå¼éƒ¨ç½²\n\n### ğŸ³ Dockeré•œåƒæ„å»ºä¸åˆ†å‘\n**prepare_dependencies()æ–°å¢åŠŸèƒ½:**\n1. æ„å»ºåŒ…å«Dockerçš„nokubeé•œåƒ\n   ```dockerfile\n   FROM ubuntu:22.04\n   RUN apt-get install docker.io python3-pip\n   COPY target/nokube /usr/local/bin/nokube\n   ```\n2. å¯¼å‡ºé•œåƒä¸ºtaråŒ…: `docker save -o nokube-image.tar`\n3. SSHä¸Šä¼ taråŒ…åˆ°å„èŠ‚ç‚¹\n4. è¿œç¨‹åŠ è½½é•œåƒ: `docker load -i nokube-image.tar`\n\n**ä¼˜åŠ¿:**\nâœ… é¿å…æ¯æ¬¡å®¹å™¨å¯åŠ¨é‡æ–°ä¸‹è½½\nâœ… é•œåƒä¸€æ¬¡æ„å»ºï¼Œå¤šèŠ‚ç‚¹å¤ç”¨\nâœ… ç¦»çº¿ç¯å¢ƒæ”¯æŒ\nâœ… ç½‘ç»œå¸¦å®½èŠ‚çœ\n\n### ğŸ“‚ æ–‡ä»¶ä¸Šä¼ æ¥å£ä¿éšœ\n- è‡ªåŠ¨åˆ›å»ºè¿œç¨‹çˆ¶ç›®å½•: `mkdir -p <parent>`\n- è‡ªåŠ¨è®¾ç½®ç›®å½•å½’å±ä¸ºå½“å‰SSHç”¨æˆ·: `chown -R {user}:{user} <dir>`\n- å•æ–‡ä»¶ä¸Šä¼ : `upload_file` / `force_upload_file`\n- ç›®å½•ä¸Šä¼ : `upload_directory` (é€’å½’å¤„ç†å¹¶ç»Ÿä¸€æƒé™)\n- è°ƒç”¨æ–¹æ— éœ€é¢å¤– mkdir/chownï¼Œæ¥å£å·²å†…å»º","x":-29,"y":-630,"width":510,"height":860},
		{"id":"n-distribution-flow","type":"text","text":"## åˆ†å‘æµç¨‹ (åŸºäº HTTP)\n1) æœ¬åœ°æ„å»º & æ‰“åŒ…\n2) ä¸Šä¼ åˆ° Head HTTP ç›®å½•\n3) å¯åŠ¨ http.server å®¹å™¨ (python:3.10-slim)\n4) èŠ‚ç‚¹ä¸‹è½½: `http://<head>:<port>/releases/nokube/...`\n   - cmdagent é€šè¿‡ curl ä¸‹è½½ `bin/`+`lib/` åæ‰§è¡Œ\n   - service agent åœ¨å®¹å™¨å†…ä½¿ç”¨ç›¸åŒæ¥æºè·å–ä¾èµ–\n5) ä¸å†é¢„åˆ†å‘åˆ°å„èŠ‚ç‚¹ (æ—  SSH é€ç‚¹æ‹·è´)\n","x":920,"y":-540,"width":440,"height":315},
		{"id":"gitops-extension","type":"text","text":"## GitOps æ‰©å±•\n\n**examples/gitops/**\n- è‡ªåŠ¨åŒ–éƒ¨ç½²\n- é…ç½®åŒæ­¥\n\nğŸ”§ **ConfigMap æŒ‚è½½æ”¯æŒ**\n- YAMLå†…åµŒé…ç½®æ–‡ä»¶\n- è‡ªåŠ¨æ–‡ä»¶ç³»ç»Ÿæ˜ å°„\n- /etc/config æ ‡å‡†æŒ‚è½½","x":700,"y":-960,"width":230,"height":190},
		{"id":"architecture-principles","type":"text","text":"## æ¶æ„åŸåˆ™\n\n### ğŸ”§ æœ€å°å˜æ›´åŸåˆ™\n- æ–‡ä»¶åˆ†å¸ƒå³æ¨¡å—è§„åˆ’\n- ä¸¥æ ¼é”™è¯¯å¤„ç†\n- æ— é»˜è®¤å€¼ç­–ç•¥\n\n### ğŸ—ï¸ å®¹å™¨åŒ–è¿è¡Œ\n- Service Agent ä½¿ç”¨ --pid\n- è§‚æµ‹å®¿ä¸»æœºä¿¡æ¯\n- ç»Ÿä¸€è¿›ç¨‹å†…é€»è¾‘\n\n### ğŸ“Š ç›‘æ§ç»‘å®š\n- é›†ç¾¤éƒ¨ç½²ç›‘æ§\n- èŠ‚ç‚¹ IP è¿æ¥\n- ç¦ç”¨ localhost","x":1070,"y":-920,"width":250,"height":200},
		{"id":"agent-system","type":"text","text":"## Agent ç³»ç»Ÿ\n\n**src/agent/**\n- general/ é€šç”¨åŠŸèƒ½\n- master_agent/ ä¸»ä»£ç†\n- service_agent/ æœåŠ¡ä»£ç†\n\nğŸ¤– è¿œç¨‹å‘½ä»¤æ‰§è¡Œ\nğŸ“ˆ ç›‘æ§æ•°æ®æ”¶é›†\nğŸ³ å®¹å™¨ç®¡ç†","x":-400,"y":-50,"width":300,"height":300},
		{"id":"nokube-core","type":"text","text":"# Nokube-rs Core\n\nåˆ†å¸ƒå¼æœåŠ¡ç®¡ç†å™¨\n- é›†ç¾¤åˆå§‹åŒ–\n- éƒ¨ç½²æ§åˆ¶\n- é…ç½®ç®¡ç†","x":-400,"y":-275,"width":200,"height":100},
		{"id":"config-module","type":"text","text":"## Config æ¨¡å—\n\n**src/config/**\n- etcd_manager.rs\n- config_manager.rs\n\nğŸ”§ é›†ç¾¤é…ç½®å­˜å‚¨\nğŸ“Š èŠ‚ç‚¹é…ç½®ç®¡ç†","x":-755,"y":-175,"width":260,"height":275},
		{"id":"n-nokube-artifacts","type":"text","text":"## Nokube æ‰“åŒ… (HTTP åˆ†å‘)\n- äº§ç‰©ç›®å½• (Head èŠ‚ç‚¹): `<workspace>/<mount_subpath>/releases/nokube`\n  - `bin/nokube`\n  - `lib/libcrypto.so.1.1`, `lib/libssl.so.1.1` (å¯é€‰)\n  - `nokube-image.tar` (å¯é€‰: é¢„æ„å»ºé•œåƒ)\n  - `manifest.json`, `install.sh`\n- ç”Ÿæˆæ—¶æœº: CLI `new-or-update` é˜¶æ®µ\n- è¯´æ˜: GitOps Canvas ä¸­ HTTP Server èŠ‚ç‚¹äº¦æœ‰æ ‡æ³¨","x":-720,"y":-750,"width":520,"height":360},
		{"id":"cluster-config","type":"text","text":"## é›†ç¾¤é…ç½®æ–‡ä»¶\n\n**cluster-config.yaml**\n\n```yaml\ncluster_name: home-cluster\n\nnodes:\n  - ssh_url: \"10.126.126.234:2222\"\n    name: \"pinghu-container\"\n    role: \"head\"\n    workspace: \"/opt/devcon/pa/nokube-workspace\"\n    storage:\n      type: \"local\"\n      path: \"/data/ray/head\"\n    users:\n      - userid: \"pa\"\n        password: \"74123\"\n```\n\nğŸ”§ **Workspaceé…ç½®æ¥æº:**\n1. **é›†ç¾¤é…ç½®æ–‡ä»¶** - æ¯ä¸ªèŠ‚ç‚¹çš„workspaceå­—æ®µ\n2. **ä»£ç ç¡¬ç¼–ç ** - ServiceAgentä¸­çš„é»˜è®¤è·¯å¾„\n3. **åŠ¨æ€ä¼ é€’** - é€šè¿‡ClusterConfigä¼ é€’ç»™Dockeræ“ä½œæ¨¡å—\n\nğŸ“‚ **å®é™…è·¯å¾„æ„å»º:**\n- åŸºç¡€è·¯å¾„: `{node.workspace}`\n- ConfigMapè·¯å¾„: `{workspace}/configmaps/{deployment-name}`\n- å­˜å‚¨è·¯å¾„: `{workspace}/{storage.path}`","x":-1200,"y":1130,"width":720,"height":740},
		{"id":"etcd-storage","type":"text","text":"## etcd åˆ†å¸ƒå¼å­˜å‚¨\n\n### æ•°æ®ç»“æ„:\n**ä¸šåŠ¡æ•°æ®:**\n- `/nokube/{cluster}/pods/{name}` - PodçŠ¶æ€\n- `/nokube/{cluster}/events/pod/{name}` - Podäº‹ä»¶\n- `/nokube/{cluster}/deployments/{name}` - Deploymenté…ç½®\n- `/nokube/{cluster}/daemonsets/{name}` - DaemonSeté…ç½®\n- `/nokube/{cluster}/configmaps/{name}` - ConfigMap\n- `/nokube/{cluster}/secrets/{name}` - Secret\n- `cluster/{name}` - é›†ç¾¤å…ƒæ•°æ®\n- `k8s/configmap/{ns}/{name}` - Actor ConfigMap\n- `k8s/secret/{ns}/{name}` - Actor Secret\n\n**Actorå­˜æ´»ç›‘æ§:**\n- `/nokube/{cluster}/actors/{actor-path}/alive` - Actorå­˜æ´»çŠ¶æ€\n  - åŒ…å«lease_ttlã€last_aliveæ—¶é—´æˆ³\n  - the_proxyå®šæœŸæ›´æ–°\n  - è¶…æ—¶æ ‡è®°ä¸ºDead\n\n### å†™å…¥è€…:\n- ConfigManager (é›†ç¾¤é…ç½®)\n- ServiceAgent (PodçŠ¶æ€/äº‹ä»¶)\n- ActorStorage (Actorèµ„æº)\n- **TheProxy (Actorå­˜æ´»çŠ¶æ€)**\n\n### è¯»å–è€…:\n- ServiceAgent (éƒ¨ç½²é…ç½®)\n- Exporter (é›†ç¾¤é…ç½®)\n- CLI (PodçŠ¶æ€æŸ¥è¯¢)\n- **TheProxy (Actorå­˜æ´»ç›‘æ§)**","x":-1260,"y":280,"width":680,"height":760},
		{"id":"nokube-config","type":"text","text":"## Nokube å…¨å±€é…ç½®\n\nè·¯å¾„\n- ç”¨æˆ·çº§: `~/.nokube/config.yaml` (ä¼˜å…ˆ)\n- å…¨å±€çº§: `/etc/.nokube/config.yaml`\n- Agent å®¹å™¨è¯»å–: `/etc/.nokube/config.yaml`ï¼ˆéƒ¨ç½²æ—¶å°† `{workspace}/config/config.yaml` æŒ‚è½½ï¼‰\n\næ ¼å¼ (YAML)\n```yaml\netcd_endpoints:\n  - 'http://10.0.0.10:2379'\n  - 'http://10.0.0.11:2379'\n```\nâš ï¸ ç«¯ç‚¹å¿…é¡»åŒ…å« `http://` æˆ– `https://` å‰ç¼€\n\nè¯»å–ä¼˜å…ˆçº§\n1. ç”¨æˆ·çº§ `~/.nokube/config.yaml`\n2. å…¨å±€çº§ `/etc/.nokube/config.yaml`\n\né…ç½®æ–¹æ³•\n- æœ¬æœºåˆ›å»ºä¸Šè¿°æ–‡ä»¶å¹¶å¡«å…¥ `etcd_endpoints`\n- éƒ¨ç½²æ—¶ï¼Œæ§åˆ¶å™¨ä¸Šä¼ åˆ°æ¯èŠ‚ç‚¹ `{workspace}/config/config.yaml`\n- å¯åŠ¨ Agent æ—¶ç»‘å®šä¸ºå®¹å™¨å†… `/etc/.nokube/config.yaml`\n\néƒ¨ç½²åˆ†å¸ƒ\n- æœ¬åœ° CLI/æ§åˆ¶å™¨: è¯»å–æœ¬æœºé…ç½®\n- è¿œç¨‹èŠ‚ç‚¹: `{workspace}/config/config.yaml` â†’ å®¹å™¨ `/etc/.nokube/config.yaml`ï¼ˆä¾› Agent/TheProxy è®¿é—® etcdï¼‰\n- ç›¸å…³ etcd å­˜å‚¨é”®ï¼š\n  - ClusterMeta: `cluster/{name}`\n  - ClusterConfig: `{cluster_name}`\n  - Actor: `/nokube/{cluster}/(configmaps|secrets|deployments|daemonsets|pods|events/pod)`","x":-1400,"y":-880,"width":560,"height":980},
		{"id":"service-agent-module-grafana","type":"text","text":"### Startup â†’ Module â€¢ Grafana\n- å‡†å¤‡ `{workspace}/config/*` ä¸ `{workspace}/data/grafana`\n- docker run `greptime/grafana-greptimedb` æŒ‚è½½ ini/datasource/dashboard/data\n- æ¢æ´» `/api/health` (600s/2s) â†’ è®¾ç½®é¦–é¡µã€GrafanaManager å¯¼å…¥ cluster/actor é¢æ¿","x":1040,"y":1420,"width":600,"height":200},
		{"id":"service-agent-module-greptime","type":"text","text":"### Startup â†’ Module â€¢ GreptimeDB\n- å‡†å¤‡ `{workspace}/data/greptimedb` ç­‰æŒä¹…åŒ–ç›®å½•å¹¶æŒ‚è½½\n- docker run `greptime/greptimedb` æš´éœ² HTTP/MySQLï¼Œæä¾› `/v1/prometheus` ä¸ `/v1/influxdb/write`\n- Exporter / LogCollector ä½¿ç”¨ `nokube-greptimedb` ä½œä¸ºæŒ‡æ ‡ä¸æ—¥å¿—é€šé“","x":1040,"y":1200,"width":620,"height":200}
	],
	"edges":[
		{"id":"edge-1","fromNode":"nokube-core","fromSide":"left","toNode":"config-module","toSide":"right","label":"é…ç½®è¯»å–"},
		{"id":"edge-2","fromNode":"nokube-core","fromSide":"bottom","toNode":"agent-system","toSide":"top","label":"ä»£ç†ç®¡ç†"},
		{"id":"edge-3","fromNode":"nokube-core","fromSide":"right","toNode":"remote-control","toSide":"left","label":"è¿œç¨‹éƒ¨ç½²"},
		{"id":"edge-5","fromNode":"agent-system","fromSide":"bottom","toNode":"30cdd7fa9b891781","toSide":"left"},
		{"id":"edge-service-etcd","fromNode":"k8s-abstraction","fromSide":"left","toNode":"etcd-storage","toSide":"right","label":"è¯»å–é…ç½®ï¼Œéƒ¨ç½²actor"},
		{"id":"edge-cli-etcd","fromNode":"nokube-core","fromSide":"left","toNode":"etcd-storage","toSide":"right","label":"æŸ¥è¯¢PodçŠ¶æ€"},
		{"id":"edge-docker-k8s","fromNode":"k8s-abstraction","fromSide":"right","toNode":"docker-ops-module","toSide":"left","label":"Podå®¹å™¨åŒ–"},
		{"id":"edge-docker-example","fromNode":"docker-ops-module","fromSide":"left","toNode":"docker-config-example","toSide":"top","label":"å®ç°ç¤ºä¾‹"},
		{"id":"edge-config-workspace","fromNode":"cluster-config","fromSide":"right","toNode":"docker-config-example","toSide":"top","color":"4","label":"{workspace}é…ç½®æ¥æº"},
		{"id":"edge-config-etcd","fromNode":"cluster-config","fromSide":"top","toNode":"etcd-storage","toSide":"bottom","label":"é›†ç¾¤é…ç½®å­˜å‚¨"},
		{"id":"edge-config-docker","fromNode":"cluster-config","fromSide":"right","toNode":"docker-ops-module","toSide":"left","label":"workspaceè·¯å¾„"},
		{"id":"edge-var-cluster","fromNode":"9cf4ae7f0bc843ff","fromSide":"left","toNode":"var-cluster","toSide":"right","label":"å˜é‡æ¥æº"},
		{"id":"edge-var-root","fromNode":"9637b6dd8a712c9e","fromSide":"left","toNode":"var-root-actor","toSide":"right","label":"å˜é‡æ¥æº"},
		{"id":"edge-var-container","fromNode":"9637b6dd8a712c9e","fromSide":"left","toNode":"var-container","toSide":"right","label":"å˜é‡æ¥æº"},
		{"id":"edge-var-node","fromNode":"9637b6dd8a712c9e","fromSide":"left","toNode":"var-node","toSide":"right","label":"å˜é‡æ¥æº"},
		{"id":"03a2ca3d55d61bc6","fromNode":"remote-control","fromSide":"bottom","toNode":"9213010bd51b4eba","toSide":"top"},
		{"id":"151253ad588032ae","fromNode":"config-module","fromSide":"bottom","toNode":"029a051cde4f5915","toSide":"top"},
		{"id":"c7f595250ae29636","fromNode":"nokube-config","fromSide":"right","toNode":"config-module","toSide":"left"},
		{"id":"edge-gitops-note","fromNode":"k8s-abstraction","fromSide":"right","toNode":"actor-lifecycle","toSide":"top"},
		{"id":"edge-fix-configmap","fromNode":"docker-config-example","fromSide":"bottom","toNode":"n-fix-workspace","toSide":"top","label":"ConfigMap æŒ‚è½½ç»†åŒ–"},
		{"id":"f97ef2b236dddf75","fromNode":"exporter-containers","fromSide":"bottom","toNode":"dashboard-actor","toSide":"bottom","color":"3"},
		{"id":"8ea4fa6add7df724","fromNode":"actor-lifecycle","fromSide":"right","toNode":"kubecontroller-overview","toSide":"left"},
		{"id":"edge-exporter-config-task","fromNode":"63020bf5856229b9","fromSide":"right","toNode":"exporter-config-task","toSide":"left","label":"spawn"},
		{"id":"edge-exporter-metrics-task","fromNode":"63020bf5856229b9","fromSide":"right","toNode":"exporter-metrics-task","toSide":"left","label":"spawn"},
		{"id":"edge-theproxy-alive","fromNode":"63a7919ba26e1c77","fromSide":"right","toNode":"the-proxy-alive-task","toSide":"left","color":"2","label":"tokio::spawn"},
		{"id":"edge-theproxy-keepalive","fromNode":"63a7919ba26e1c77","fromSide":"right","toNode":"the-proxy-keepalive-task","toSide":"left","color":"2","label":"tokio::spawn"},
		{"id":"edge-service-agent-docker","fromNode":"service-agent-summary","fromSide":"right","toNode":"docker-ops-module","toSide":"left","label":"å®¹å™¨åˆ›å»º/ç›‘æŠ¤è°ƒç”¨"},
		{"id":"edge-kubecontroller-docker","fromNode":"kubecontroller-overview","fromSide":"top","toNode":"docker-ops-module","toSide":"left","label":"å®¹å™¨å›æ”¶/é‡å»º"},
		{"id":"7b9668e7efde71dc","fromNode":"kubecontroller-overview","fromSide":"bottom","toNode":"kubecontroller-actor-scan-task","toSide":"top"},
		{"id":"9a551488e256a9de","fromNode":"actor-lifecycle","fromSide":"right","toNode":"root-actor-definition","toSide":"left"},
		{"id":"54525a6e199bb46a","fromNode":"log-collector-overview","fromSide":"top","toNode":"logcollector-kubecontroller-link","toSide":"bottom"},
		{"id":"81d720be0498e0fd","fromNode":"63020bf5856229b9","fromSide":"top","toNode":"block-exporter-vs-kube","toSide":"left"},
		{"id":"edge-logcollector-kubecontroller","fromNode":"logcollector-kubecontroller-link","fromSide":"top","toNode":"kubecontroller-overview","toSide":"right","color":"2","label":"å®¹å™¨äº‹ä»¶æ€»çº¿"},
		{"id":"edge-exporter-kubecontroller","fromNode":"block-exporter-vs-kube","fromSide":"top","toNode":"kubecontroller-overview","toSide":"right","color":"2","label":"å®¹å™¨äº‹ä»¶æ€»çº¿"},
		{"id":"49ce80a579bad890","fromNode":"actor-lifecycle","fromSide":"right","toNode":"actor-fullpath","toSide":"left"},
		{"id":"0232ebc7ed40b630","fromNode":"9cf4ae7f0bc843ff","fromSide":"right","toNode":"bb8189dc5a9eeffb","toSide":"left","label":"Root èšåˆ"},
		{"id":"a74394940aa58da8","fromNode":"9cf4ae7f0bc843ff","fromSide":"right","toNode":"2b2c75cfe9dfdc26","toSide":"left","label":"CPU æ›²çº¿"},
		{"id":"385a49ab86129d32","fromNode":"aae4556fb8648bc3","fromSide":"right","toNode":"d33f4f3976ad1ed5","toSide":"left","color":"2","label":"Pod å ç”¨"},
		{"id":"36567c1d2e5f64df","fromNode":"aae4556fb8648bc3","fromSide":"right","toNode":"05a61dd0441d01bf","toSide":"left","color":"2","label":"Container æ˜ç»†"},
		{"id":"04dc802abdac9f56","fromNode":"5335dde14d1038ab","fromSide":"left","toNode":"05a61dd0441d01bf","toSide":"right"},
		{"id":"10720492ad611278","fromNode":"aae4556fb8648bc3","fromSide":"right","toNode":"18146762550f3fd1","toSide":"left","color":"2","label":"èŠ‚ç‚¹å†…å­˜"},
		{"id":"6db15c0404bcf855","fromNode":"6dd5a77cb7493db1","fromSide":"right","toNode":"18146762550f3fd1","toSide":"left","label":"Other"},
		{"id":"837c7a4421096814","fromNode":"be26e494f4ce5f63","fromSide":"right","toNode":"18146762550f3fd1","toSide":"left","color":"4","label":"Free"},
		{"id":"c03dfc9025b645b8","fromNode":"9637b6dd8a712c9e","fromSide":"right","toNode":"c0d92205384ae5ff","toSide":"left","label":"æ´»è·ƒç­›é€‰"},
		{"id":"d44c0b4fdaba5e92","fromNode":"9637b6dd8a712c9e","fromSide":"top","toNode":"dashboard-actor","toSide":"right","label":"å˜é‡ä¾èµ–"},
		{"id":"aa40ed616a9788a5","fromNode":"aae4556fb8648bc3","fromSide":"right","toNode":"c0d92205384ae5ff","toSide":"left","color":"2","label":"å®¹å™¨æ•°é‡"},
		{"id":"21de63107ec8aba2","fromNode":"743be6174a9b2798","fromSide":"right","toNode":"cc3c1a31ff6a6d92","toSide":"left","label":"ä¸‹è½½é€Ÿç‡"},
		{"id":"d174c266194f9e67","fromNode":"a2ec4b6c3481a869","fromSide":"right","toNode":"d8835376af30e59a","toSide":"left","label":"ä¸Šä¼ é€Ÿç‡"},
		{"id":"6feb4b3f1510e3cb","fromNode":"ea2e9375f8de9b78","fromSide":"right","toNode":"1cab9152c78575fa","toSide":"left","label":"CPU å †å "},
		{"id":"6bef20700182b67c","fromNode":"ea2e9375f8de9b78","fromSide":"right","toNode":"8ecf221a16634edd","toSide":"left","label":"èŠ‚ç‚¹ CPU"},
		{"id":"ec27c1c2a487d2ee","fromNode":"aae4556fb8648bc3","fromSide":"right","toNode":"a1985af03c62db31","toSide":"left","color":"2","label":"å†…å­˜æ›²çº¿"},
		{"id":"530cb48e6e1016ae","fromNode":"aae4556fb8648bc3","fromSide":"right","toNode":"2faefa3b8c902c4d","toSide":"left","color":"2","label":"å®¹å™¨å†…å­˜"},
		{"id":"cf1aac4f5faa7729","fromNode":"6dd5a77cb7493db1","fromSide":"right","toNode":"a1985af03c62db31","toSide":"left","label":"éå®¹å™¨å†…å­˜"},
		{"id":"0a8c07f2d3aa3816","fromNode":"6dd5a77cb7493db1","fromSide":"right","toNode":"2faefa3b8c902c4d","toSide":"left","label":"Other"},
		{"id":"2098c461a939ed96","fromNode":"02e699f71e2275ad","fromSide":"right","toNode":"a1985af03c62db31","toSide":"left","color":"6","label":"å†…å­˜æ›²çº¿"},
		{"id":"5381671fa740a1c2","fromNode":"4e81f771478c5049","fromSide":"right","toNode":"a1985af03c62db31","toSide":"left","color":"6","label":"æ€»é‡åŸºçº¿"},
		{"id":"aaffdfe2e7cc99ae","fromNode":"be26e494f4ce5f63","fromSide":"right","toNode":"a1985af03c62db31","toSide":"left","color":"4","label":"å‰©ä½™å†…å­˜"},
		{"id":"3680a5c80722a0ac","fromNode":"be26e494f4ce5f63","fromSide":"right","toNode":"2faefa3b8c902c4d","toSide":"left","color":"4","label":"Free"},
		{"id":"edge-import-to-shared","fromNode":"grafana-import-flow","fromSide":"right","toNode":"grafana-shared-module","toSide":"left","label":"ä½¿ç”¨å…±äº«æ¨¡æ¿"},
		{"id":"edge-general-grafana-import","fromNode":"grafana-manager-general","fromSide":"right","toNode":"grafana-import-flow","toSide":"left","label":"è°ƒç”¨å…±äº«æ¨¡æ¿ + HTTP å¯¼å…¥"},
		{"id":"edge-master-grafana-manager","fromNode":"service-agent-summary","fromSide":"right","toNode":"grafana-manager-general","toSide":"left","label":"master_agent ä½¿ç”¨"},
		{"id":"edge-cli-service-bridge","fromNode":"cli-new-or-update","fromSide":"bottom","toNode":"cli-service-status-bridge","toSide":"top","color":"5","label":"deploy version broadcast"},
		{"id":"ef8a39c3d27aa934","fromNode":"service-agent-summary","fromSide":"bottom","toNode":"service-agent-status-sync","toSide":"top"},
		{"id":"f8313667688ba79f","fromNode":"cli-service-status-bridge","fromSide":"bottom","toNode":"service-agent-status-sync","toSide":"right","color":"5"},
		{"id":"edge-startup-grafana","fromNode":"service-agent-status-sync","fromSide":"right","toNode":"service-agent-module-grafana","toSide":"left","label":"startup"},
		{"id":"edge-startup-greptime","fromNode":"service-agent-status-sync","fromSide":"right","toNode":"service-agent-module-greptime","toSide":"left","label":"startup"}
	]
}
